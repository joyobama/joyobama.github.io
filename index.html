<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Time is Gone</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="乱七八糟的记录，我正在努力尝试弄得有条理一些">
<meta property="og:type" content="website">
<meta property="og:title" content="Time is Gone">
<meta property="og:url" content="https://joyobama.github.io/index.html">
<meta property="og:site_name" content="Time is Gone">
<meta property="og:description" content="乱七八糟的记录，我正在努力尝试弄得有条理一些">
<meta property="og:locale">
<meta property="article:author" content="Joy_Obama">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Time is Gone" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Time is Gone</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Joy_Obama</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Suche"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://joyobama.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-AD简易教程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/AD%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.688Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/AD%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">AD简易教程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="AD-简易教程"><a href="#AD-简易教程" class="headerlink" title="AD 简易教程"></a>AD 简易教程</h1><h2 id="安装AD21-6-1和DigiPCBA封装库插件"><a href="#安装AD21-6-1和DigiPCBA封装库插件" class="headerlink" title="安装AD21.6.1和DigiPCBA封装库插件"></a>安装AD21.6.1和DigiPCBA封装库插件</h2><ul>
<li><strong>AD21.6.1安装包：</strong>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1t47GxXYDtGJwAkHclOfbrg?pwd=w0fv">https://pan.baidu.com/s/1t47GxXYDtGJwAkHclOfbrg?pwd=w0fv</a>      提取码：w0fv</li>
<li><strong>安装教程</strong>：<a target="_blank" rel="noopener" href="https://www.mr-wu.cn/altium-designer-ad-21-free-download/">https://www.mr-wu.cn/altium-designer-ad-21-free-download/</a></li>
<li><strong>DigiPCBA插件</strong>：<a target="_blank" rel="noopener" href="https://www.mr-wu.cn/altium-designer-software-extensions/（可选）">https://www.mr-wu.cn/altium-designer-software-extensions/（可选）</a></li>
</ul>
<h2 id="新建工程"><a href="#新建工程" class="headerlink" title="新建工程"></a>新建工程</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101519468.png" alt="image-20220410151957435"></p>
<p>新建工程时，选<strong>本地工程 Local Project</strong>，确定<strong>工程名Project Name和路径Folder</strong>，一些输出文件需要在这些路径里面找，包括生成的PCB，发给厂家的文件等等。然后Create。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101523549.png" alt="image-20220410152311507"></p>
<p>创建工程后在Projects中可以看到刚刚创建的工程，里面是空的，会提示No Document Added。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101529165.png" alt="image-20220410152923120"></p>
<p>如果没有看到Projects这个栏，这个栏有可能在右边，左边，上边，下边或者悬浮；如果都没有的话那就找到右下角有一个<strong>Panels</strong>按钮可以打开这个工具栏，其他的工具栏也可以在这里找到，因为屏幕空间有限，大多数时候也习惯关掉这些工具栏。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101532265.png" alt="image-20220410153232232"></p>
<p>然后就是添加新的原理图Schematic文档和PCB文档，当然后面你们可以根据需要添加已有的文档，这里需要按照这个步骤快速的上手这个软件，并能够将工作进行起来。</p>
<p>跟许多软件一样，有改动未保存的会有<strong>*</strong>的标记，而这个软件需要注意，做完更改后，进行下一步的时候，需要保存。软件工具链在不同文件之间链接的时候是基于已保存的文件，许多错误的原因就是在于未保存文档。然后新的文档保存时，最好起个名字，便于自己识别。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101536031.png" alt="image-20220410153623982"></p>
<p>还有一点，同一项目的文档，最好放置在与工程文件相同的路径下，否则容易出错。如下图所示，注意这三个文件的后缀名，PcbDoc是PCB文档，SchDoc是原理图文档，PrjPcb是工程文件或者说工程入口。他们三个最好在一起。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101545749.png" alt="image-20220410154503707"></p>
<p>新建好工程和文档之后，在上方工具栏<strong>工具Tools</strong>-<strong>偏好Preferences</strong>，打开软件偏好设置。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101629213.png" alt="image-20220410162947175"></p>
<p>找到原理图schematic中的可选项中的graphical editing，取消选中reset part designators on paste，然后应用。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101634364.png" alt="image-20220410163445312"></p>
<p>打开发的那个工程文件，双击收到的文件夹中PrjPcb后缀的文件即可打开，或者在软件File-Open也可以。框选相应的电路，复制到刚刚创建好的空原理图文档中。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101622000.png" alt="image-20220410162202913"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101639911.png" alt="image-20220410163949843"></p>
<p>直接复制过来的元件标号是被重置了的就是<strong>U？</strong>，有小波浪线是因为网络标号没有成对，待会需要添加接口给它，让其配对。在此之前，需要把PCB中的相关部件也拷过来。在Tools中开启交叉选择模式，保证刚刚在原理图中选中元器件及连线保持选中状态，打开V1.PcbDoc，会同样选中对应的在器件。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101643336.png" alt="image-20220410164355305"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101645512.png" alt="image-20220410164517426"></p>
<p>把这些复制到新建工程中的新建PCB文件中。注意，PCB的复制操作，在复制时会出现绿色的十字选择状态，这是要选一个参考点，这里点左上角的那个元器件就行，然后在新建的空PCB文档中，粘贴，如下图。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101649124.png" alt="image-20220410164932077"></p>
<p>因为选中了连线，所以所有相关的物理连线也被选中了，就是上图中的小红线，不需要这些线，要把他们删干净，你们操作的时候需要分别一下那些是有用的，哪些是没有用的，然后删掉不需要的线或者器件。这里删掉之后，保存，如下图</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101652163.png" alt="image-20220410165246124"></p>
<p>然后在打开PCB文档的状态下，在Design中导入工程变更。然后会提示要匹配元器件，因为是复制过来的，两个文档中的器件没关联起来。这里选择自动创建器件连接。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101709027.png" alt="image-20220410170900986"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101709711.png" alt="image-20220410170924674"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101710359.png" alt="image-20220410171041326"></p>
<p>然后会出现变更详细表，先验证变更，看看有没有问题，有问题看看是不是致命的问题，然后执行变更。创建连接后，会出现白色的飞线，表示这些元器件已经建立好了电气网表连接。保存！删掉左下角红色的框框，保存。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101711259.png" alt="image-20220410171149216"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101713426.png" alt="image-20220410171303374"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101713050.png" alt="image-20220410171334010"></p>
<p>新建工程，以及复制工作完成！</p>
<h2 id="添加接口以及元件库的使用"><a href="#添加接口以及元件库的使用" class="headerlink" title="添加接口以及元件库的使用"></a>添加接口以及元件库的使用</h2><p>回到新建的原理图，原有的发给你们的工程可以关了，开着会占内存。在右下角的panels中打开Manufacturer Part Search，这个就是在线的元件库，但这个需要安装第一步的那个DigiPCBA插件，并按照他的教程进行注册和登陆。这个在找一些芯片的时候非常有用，而在找接口的时候，因为接口的名字太多，太复杂了，光找到名字就已经很麻烦了，所以还是另外找了淘宝的库，这里先不说明了。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204101726825.png" alt="image-20220410172604790"></p>
<p>一般情况下，一个板子会有三大类端口，电源端口，输入端口，输出端口，在情况允许的情况下应该分开放置，便于辨识、测试、连接。另外，用于实验测试用板子，还需要留有相应的测试点，方便连接测试探头，测试以电压测试为主，电压测试必须有接触点，分别是参考地与信号点。电流测试一般采用的都是检测磁场，是<strong>套</strong>在电流流通上，这里先不用考虑。实际测量时，会讲解。</p>
<p>电源接口一般采用5.08mm间距端子，信号一般采用2.54mm间距排针。</p>
<h3 id="安装元件库"><a href="#安装元件库" class="headerlink" title="安装元件库"></a>安装元件库</h3><p>安装元件库，首先要把相关的库文件放在合适的位置，一般放置到文档中AD的那个libraries里面，但我这里因为是在用工作站，所直接放在我的局域网共享文件夹里面，你们也可以直接在局域网里面复制过去，复制文件还是比较方便的。</p>
<p>工作站的共享文件夹路劲为\DESKTOP-H4410LS\Joy_Obama，需要连上018局域网，然后在资源管理器的地址栏上输入这个地址，如果未打开局域网共享会有提示，按照提示打开即可。直接把里面的<strong>AD封装</strong>这个文件夹拷到你们自己电脑放置库的位置。</p>
<p>回到AD软件，在原理图打开的状态下，在中间上方的浮动工具栏中，那个元件符号的，左数第五个，即是打开元件库。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102107371.png" alt="image-20220410210732332"></p>
<p>打开元件库后，在component栏中的右上方有一个类似于菜单的三横标志，点击它，然后选择file-based libraries preferences，会弹出元件库安装界面。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102110079.png" alt="image-20220410211001045"></p>
<p>选择installed，点击下方安装按钮，会弹出文件选择窗口，浏览到放置刚刚复制安装库位置，将所有的PCB封装库，与原理图库逐个安装好，3D封装库不用手动安装。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102112552.png" alt="image-20220410211220501"></p>
<p>若在安装时打开文件夹显示空白则，在资源管理窗口下方选择所有文件，则会显示所有文件，原理图库后缀为schlib，PCB库为Pcblib，还有一类集成库后缀为intlib，集成库是把前两个集成在一起的库。打开文件夹后，全选安装，因为库比较大，所以会有点卡，<strong>不要慌</strong>。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102116901.png" alt="image-20220410211622843"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102119304.png" alt="image-20220410211953257"></p>
<p>安装完后，在components栏的下拉栏中可以看到所安装的库。然后根据需要去选择。这里选5.08连接器放置电源端口，信号接口同理选择2.54连接器。电源接口一般选2P或3P，2P适用于单电源，3P则适用于大功率单电源（中间引脚不连接用于隔断）和双电源。信号连接根据信号数量选择，但需要注意的是，必须要要有地线连接，数量一般是信号数量于一定地线数量之和。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102127595.png" alt="image-20220410212727557">s</p>
<h3 id="一些基本操作"><a href="#一些基本操作" class="headerlink" title="一些基本操作"></a>一些基本操作</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102142200.png" alt="image-20220410210732332"></p>
<p>基本操作基本上都集中在浮动条上了，<strong>右击可展开</strong>，从左往右依次现简要说明如下：</p>
<ol>
<li>过滤器，操作较为复杂，现不讲解，有兴趣可以自己查一下。</li>
<li>移动选项，如非特殊，一般用鼠标就可以完成基本的移动操作，一般是拖拽与旋转，拖拽为左击按住即为拿起该元素（除了器件还有连线和符号），拖拽状态下所选择元素会虚化，在拖拽状态下按空格键可九十度旋转，可调整到所需状态。</li>
<li>框选，如非特殊，一般用鼠标点击空白处拖拽即可拉框，框选有两种模式，一种是左上角往右下角拉，是选择完全被包含的元素，另一种是从右下角往左上角拉，是选择所有触碰到选择框的元素。</li>
<li>对齐操作，该操作与office操作类似，不过多讲述。</li>
<li>元件库</li>
<li>电气连接线<img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102152036.png" alt="image-20220410215221000">有四种连线方式，基本的则是wire（线)和net label（网络标签)，线比较直观，网络标签是较为灵活便捷的方式，也是更接近软件工作原理的方式，同一个网络标签则是连在一起的地方，在复杂情况下，采用连线原理图会变得混乱。</li>
<li>电源网络标号，是一类特殊的网络标号。</li>
<li>这个我也没有用过，高阶操作。</li>
<li>子图操作，原工程采用了子图和多通道的设计方法，但先不讲解。</li>
<li>文档端口，与子图联合使用，先不讲解。</li>
<li>特殊信号标记，<img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204102158087.png" alt="image-20220410215840050">一般常用的是第二与第三个，第二标记引脚不需要电气检查，一般标记该引脚不需要电气连接，第三个是差分信号标记，高速信号需要采用差分布线，我们这里没有用到。</li>
<li>文字操作，用来进行一些原理图的文字说明，可以自己尝试一下，不会影响原理图的逻辑。</li>
<li>画图操作，与文字操作类似，进行一些图画说明，可以自己尝试，不会影响原理图逻辑。</li>
<li>最后点击某个命令后则会进入该命令状态，可按esc退出，与大多数软件类似。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/AD%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/" data-id="cl8x6hjq20002w0ocgmy2bq2k" data-title="AD简易教程" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-2022年4月FPGA开发的一些错误要点" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/2022%E5%B9%B44%E6%9C%88FPGA%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E8%A6%81%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.686Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/2022%E5%B9%B44%E6%9C%88FPGA%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E8%A6%81%E7%82%B9/">要点总结</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <ul>
<li><p>Vivado乘法器的输出位宽是两个输入位宽之和，不能随便舍位，会严重降低精度，需要采用其他方法去降低这个位宽。</p>
</li>
<li><p>滤波器输出位宽截断问题，在FDAtool中设计滤波器时，通带增益一般为0dB,一般情况下导出的滤波器系数都是定点整数，导入IP核后的增益一般会增大100dB以上。因为影响输出位宽的操作主要是乘法，FIR滤波器其实是在做卷积，输出位宽为信号位宽加上滤波器系数位宽，而根据设计要求增益为1情况下位宽是不会改变的，故输入位宽与输出位宽一致并不会造成严重的精度损失，仔细观察滤波器系数增益与全精度位宽即可发现这一特点。</p>
</li>
<li><p>滤波器的通带是与采样率息息相关的，在设计时一定时刻注意当前信号的采样率。</p>
</li>
<li><p>DDS的输出频率与时钟频率是完全相关的，需要准确确定DDS的工作频率，以获得一个较为精准的输出频率，同时DDS频率可以尽量高一些。</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/2022%E5%B9%B44%E6%9C%88FPGA%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E8%A6%81%E7%82%B9/" data-id="cl8x6hjq10001w0occq5mhwwl" data-title="要点总结" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-2021年记账" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/2021%E5%B9%B4%E8%AE%B0%E8%B4%A6/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.683Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="2021年记账"><a href="#2021年记账" class="headerlink" title="2021年记账"></a>2021年记账</h1><p>2020年结余2591.28元<br>收入：2591.28元，结余2591.28元<br>支出：194元（谢金平报销），结余2397.28元<br>支出：173元（谢金平报销），结余2224.28元<br>支出：784元（团建），结余：1440.28元<br>支出：224.45（梁惟芝报销），结余1215.83元<br>支出：33（谢金平报销），结余1182.83元<br>支出：25（018卫生用品），结余1157.83元<br>支出：30（唐瑶办公用品），结余1127.83元<br>支出：249（唐瑶书籍），结余878.83元<br>支出：15（唐瑶文具），结余863.83元<br>支出：270（水费），结余593.83元<br>支出：93.06（书籍），结余500.77元<br>支出：299（谢金平报销），结余201.77元<br>支出：50（谢金平切割电机），结余151.77元<br>收入：342，结余493.77元<br>支出：31.8（方领），结余461.97元<br>支出：17（唐瑶），结余444.97元<br>支出：60（王玺伟），结余384.85元<br>支出：12（唐瑶），结余372.85元<br>支出：50（方领信封），结余322.85元<br>支出：30（方领海报），结余292.85元<br>支出：94.21（018卫生用品），结余198.64元<br>支出：5.5（学习用品），结余193.14元<br>收入：3000，结余3193,14元<br>支出：31（王玺伟快递），结余3162.14元<br>支出：380（水费），结余2782.14元<br>支出：140（龙卓报销），结余2642.14元<br>支出：1500（张老师），结余1142.12元<br>支出：208.4（龙卓-CSDN），结余933.72元<br>支出：32.5（方领耗材），结余901.22元<br>支出：100（018卫生用品），结余801.22元<br>支出：20（师弟们门钥匙），结余781.22元<br>支出：14.5（师弟们学习用品），结余766.72元<br>支出：6.5（唐瑶学习用品），结余760.22元<br>支出：70（唐瑶C++书籍），结余690.22元<br>支出：300（唐瑶中文投稿稿费），结余390.22元</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">时间</th>
<th style="text-align:center">方向</th>
<th style="text-align:center">金额</th>
<th style="text-align:center">事项</th>
<th style="text-align:center">余额</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">2021年9月27日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">3000</td>
<td style="text-align:center"></td>
<td style="text-align:center">3390.22</td>
</tr>
<tr>
<td style="text-align:center">2021年10月5日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">21</td>
<td style="text-align:center">唐镜博学习用品</td>
<td style="text-align:center">3369.22</td>
</tr>
<tr>
<td style="text-align:center">2021年10月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">88.4</td>
<td style="text-align:center">彭鑫特征工程书籍</td>
<td style="text-align:center">3280.82</td>
</tr>
<tr>
<td style="text-align:center">2021年10月12日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">270</td>
<td style="text-align:center">30张水票</td>
<td style="text-align:center">3010.82</td>
</tr>
<tr>
<td style="text-align:center">2021年10月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">61.1</td>
<td style="text-align:center">实验室纸巾</td>
<td style="text-align:center">2949.72</td>
</tr>
<tr>
<td style="text-align:center">2021年10月15日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">31.5</td>
<td style="text-align:center">方领申请电网打印资料</td>
<td style="text-align:center">2918.2</td>
</tr>
<tr>
<td style="text-align:center">2021年10月20日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">959</td>
<td style="text-align:center">唐镜博显示器</td>
<td style="text-align:center">1959.22</td>
</tr>
<tr>
<td style="text-align:center">2021年10月21日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">959</td>
<td style="text-align:center">周俊鸿显示器</td>
<td style="text-align:center">1000.22</td>
</tr>
<tr>
<td style="text-align:center">2021年10月21日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">198.9</td>
<td style="text-align:center">显示器支架+粘鼠板</td>
<td style="text-align:center">801.32</td>
</tr>
<tr>
<td style="text-align:center">2021年10月21日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">98.5</td>
<td style="text-align:center">插线板</td>
<td style="text-align:center">702.82</td>
</tr>
<tr>
<td style="text-align:center">2021年10月23日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">34</td>
<td style="text-align:center">方领湖南电网</td>
<td style="text-align:center">668.82</td>
</tr>
<tr>
<td style="text-align:center">2021年10月25日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">136.35</td>
<td style="text-align:center">实验室运动器材：篮球</td>
<td style="text-align:center">532.47</td>
</tr>
<tr>
<td style="text-align:center">2021年10月25日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13</td>
<td style="text-align:center">018实验室纸杯</td>
<td style="text-align:center">519.47</td>
</tr>
<tr>
<td style="text-align:center">2021年10月26日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">9</td>
<td style="text-align:center">唐瑶文具</td>
<td style="text-align:center">510.47</td>
</tr>
<tr>
<td style="text-align:center">2021年11月3日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">66.8</td>
<td style="text-align:center">方领书籍Linux鸟哥私房菜</td>
<td style="text-align:center">443.67</td>
</tr>
<tr>
<td style="text-align:center">2021年11月4日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">85.1</td>
<td style="text-align:center">唐镜博，周俊鸿书籍simplorer仿真，深度学习</td>
<td style="text-align:center">358.57</td>
</tr>
<tr>
<td style="text-align:center">2021年11月4日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">110</td>
<td style="text-align:center">龙卓毕业科技查新</td>
<td style="text-align:center">248.57</td>
</tr>
<tr>
<td style="text-align:center">2021年11月4日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">216.85</td>
<td style="text-align:center">谢金平累计邮寄费用</td>
<td style="text-align:center">31.72</td>
</tr>
<tr>
<td style="text-align:center">2021年11月4日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">36</td>
<td style="text-align:center">周俊鸿邮寄费用</td>
<td style="text-align:center">-4.28</td>
</tr>
<tr>
<td style="text-align:center">2021年11月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">39</td>
<td style="text-align:center">周俊鸿出租车报销</td>
<td style="text-align:center">-43.28</td>
</tr>
<tr>
<td style="text-align:center">2021年11月10日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">3000</td>
<td style="text-align:center"></td>
<td style="text-align:center">2956.72</td>
</tr>
<tr>
<td style="text-align:center">2021年11月10日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">31.10</td>
<td style="text-align:center">转账提现费用</td>
<td style="text-align:center">2925.62</td>
</tr>
<tr>
<td style="text-align:center">2021年11月12日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">42</td>
<td style="text-align:center">唐瑶文具</td>
<td style="text-align:center">2914.62</td>
</tr>
<tr>
<td style="text-align:center">2021年11月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">188.1</td>
<td style="text-align:center">唐瑶书籍</td>
<td style="text-align:center">2726.52</td>
</tr>
<tr>
<td style="text-align:center">2021年11月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">11</td>
<td style="text-align:center">垃圾篓</td>
<td style="text-align:center">2715.52</td>
</tr>
<tr>
<td style="text-align:center">2021年11月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">28.5</td>
<td style="text-align:center">纸巾</td>
<td style="text-align:center">2687.02</td>
</tr>
<tr>
<td style="text-align:center">2021年11月16日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">2.5</td>
<td style="text-align:center">唐瑶打印费</td>
<td style="text-align:center">2684.52</td>
</tr>
<tr>
<td style="text-align:center">2021年11月16日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">80.93</td>
<td style="text-align:center">电机设计与电机控制书籍</td>
<td style="text-align:center">2603.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月22日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">11</td>
<td style="text-align:center">唐瑶文具</td>
<td style="text-align:center">2592.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月22日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13</td>
<td style="text-align:center">唐镜博文具</td>
<td style="text-align:center">2579.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月22日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">25</td>
<td style="text-align:center">龙卓打车费用</td>
<td style="text-align:center">2554.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月22日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">100+115</td>
<td style="text-align:center">周俊鸿钴基非晶磁芯</td>
<td style="text-align:center">2339.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月23日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13</td>
<td style="text-align:center">实验室纸杯</td>
<td style="text-align:center">2326.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">16</td>
<td style="text-align:center">方领三方打印</td>
<td style="text-align:center">2310.59</td>
</tr>
<tr>
<td style="text-align:center">2021年11月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">278.68</td>
<td style="text-align:center">周俊鸿-飞跃FY-130型手摇绕线机</td>
<td style="text-align:center">2031.91</td>
</tr>
<tr>
<td style="text-align:center">2021年11月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">137.70</td>
<td style="text-align:center">周俊鸿-多种规格的漆包线若干</td>
<td style="text-align:center">1894.21</td>
</tr>
<tr>
<td style="text-align:center">2021年11月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">499.00</td>
<td style="text-align:center">周俊鸿-磁通门信号处理模块若干</td>
<td style="text-align:center">1395.21</td>
</tr>
<tr>
<td style="text-align:center">2021年11月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">80.6</td>
<td style="text-align:center">周俊鸿-信号处理模块同轴连接线</td>
<td style="text-align:center">1314.61</td>
</tr>
<tr>
<td style="text-align:center">2021年11月25日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">77.3</td>
<td style="text-align:center">方领标书材料和邮寄费用</td>
<td style="text-align:center">1237.31</td>
</tr>
<tr>
<td style="text-align:center">2021年11月30日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">42</td>
<td style="text-align:center">龙卓师兄打车费用</td>
<td style="text-align:center">1195.31</td>
</tr>
<tr>
<td style="text-align:center">2021年11月30日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">45.8</td>
<td style="text-align:center">龙卓师兄相关材料</td>
<td style="text-align:center">1149.51</td>
</tr>
<tr>
<td style="text-align:center">2021年12月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">225</td>
<td style="text-align:center">龙卓师兄答辩果盘</td>
<td style="text-align:center">924.51</td>
</tr>
<tr>
<td style="text-align:center">2021年12月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">1182</td>
<td style="text-align:center">龙卓师兄答辩聚餐</td>
<td style="text-align:center">-257.49</td>
</tr>
<tr>
<td style="text-align:center">2021年12月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">105+108</td>
<td style="text-align:center">周俊鸿机场送材料打车费用</td>
<td style="text-align:center">-470.49</td>
</tr>
<tr>
<td style="text-align:center">2021年12月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">154.14</td>
<td style="text-align:center">018实验室纸巾4箱</td>
<td style="text-align:center">-624.63</td>
</tr>
<tr>
<td style="text-align:center">2021年12月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">18</td>
<td style="text-align:center">王玺帏邮寄费用</td>
<td style="text-align:center">-642.63</td>
</tr>
<tr>
<td style="text-align:center">2021年12月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">21</td>
<td style="text-align:center">彭鑫电机试验台PC连接线</td>
<td style="text-align:center">-663.63</td>
</tr>
<tr>
<td style="text-align:center">2021年12月14日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">4</td>
<td style="text-align:center">周俊鸿胶带</td>
<td style="text-align:center">-667.63</td>
</tr>
<tr>
<td style="text-align:center">2021年12月15日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">42.65</td>
<td style="text-align:center">唐瑶上交复试材料</td>
<td style="text-align:center">-710.28</td>
</tr>
<tr>
<td style="text-align:center">2021年12月16日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">270</td>
<td style="text-align:center">018实验室饮用水</td>
<td style="text-align:center">-980.28</td>
</tr>
<tr>
<td style="text-align:center">2021年12月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">20</td>
<td style="text-align:center">方领实验元器件</td>
<td style="text-align:center">-1000.28</td>
</tr>
<tr>
<td style="text-align:center">2021年12月22日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">3000</td>
<td style="text-align:center"></td>
<td style="text-align:center">1999.72</td>
</tr>
<tr>
<td style="text-align:center">2021年12月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19</td>
<td style="text-align:center">龙卓师兄打车费用</td>
<td style="text-align:center">1980.72</td>
</tr>
<tr>
<td style="text-align:center">2021年12月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">68.98</td>
<td style="text-align:center">唐瑶书籍</td>
<td style="text-align:center">1911.74</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">79</td>
<td style="text-align:center">彭鑫计算器</td>
<td style="text-align:center">1832.74</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">26.5</td>
<td style="text-align:center">黄凤琴电机原理教材</td>
<td style="text-align:center">1806.24</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">95.75</td>
<td style="text-align:center">周俊鸿线材标签纸-文具</td>
<td style="text-align:center">1710.49</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">240.77</td>
<td style="text-align:center">周俊鸿AD835及其他相关元器件</td>
<td style="text-align:center">1469.72</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">29.8</td>
<td style="text-align:center">周俊鸿锡膏</td>
<td style="text-align:center">1439.92</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">154</td>
<td style="text-align:center">周俊鸿OPA690及相关元器件</td>
<td style="text-align:center">1285.92</td>
</tr>
<tr>
<td style="text-align:center">2021年12月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">24</td>
<td style="text-align:center">周俊鸿PCB打样费用</td>
<td style="text-align:center">1261.92</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">100</td>
<td style="text-align:center">周俊鸿洗板水</td>
<td style="text-align:center">1161.92</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">119</td>
<td style="text-align:center">桌子</td>
<td style="text-align:center">1042.92</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">10.8</td>
<td style="text-align:center">标签纸</td>
<td style="text-align:center">1032.12</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">5</td>
<td style="text-align:center">唐镜博文具</td>
<td style="text-align:center">1027.12</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">885</td>
<td style="text-align:center">元旦聚餐</td>
<td style="text-align:center">142.12</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">183.79</td>
<td style="text-align:center">周俊鸿热缩管、杜邦线等元器件</td>
<td style="text-align:center">-41.67</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">210</td>
<td style="text-align:center">周俊鸿UAF42模块</td>
<td style="text-align:center">-251.67</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">295</td>
<td style="text-align:center">周俊鸿AD630模块</td>
<td style="text-align:center">-546.67</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">688.99</td>
<td style="text-align:center">周俊鸿固态硬盘</td>
<td style="text-align:center">-1235.66</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">8.41</td>
<td style="text-align:center">螺丝刀</td>
<td style="text-align:center">-1244.07</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19.9</td>
<td style="text-align:center">螺丝批</td>
<td style="text-align:center">-1263.97</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">629</td>
<td style="text-align:center">黄凤琴固态硬盘</td>
<td style="text-align:center">-1892.97</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">787.11</td>
<td style="text-align:center">谢金平内存条</td>
<td style="text-align:center">-2680.08</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">679</td>
<td style="text-align:center">谢金平固态硬盘</td>
<td style="text-align:center">-3359.08</td>
</tr>
<tr>
<td style="text-align:center">2022年1月7日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">100</td>
<td style="text-align:center">周俊鸿洗板水</td>
<td style="text-align:center">-3459.08</td>
</tr>
<tr>
<td style="text-align:center">2022年1月11日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">12+16+7</td>
<td style="text-align:center">老师带饭</td>
<td style="text-align:center">-3494.08</td>
</tr>
<tr>
<td style="text-align:center">2022年1月11日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">6000</td>
<td style="text-align:center"></td>
<td style="text-align:center">2505.92</td>
</tr>
<tr>
<td style="text-align:center">2022年1月11日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">28.5</td>
<td style="text-align:center">体现手续费</td>
<td style="text-align:center">2477.42</td>
</tr>
<tr>
<td style="text-align:center">2022年1月6日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">83.8</td>
<td style="text-align:center">2022年团建费用-唐瑶</td>
<td style="text-align:center">2393.62</td>
</tr>
<tr>
<td style="text-align:center">2022年1月9日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">78</td>
<td style="text-align:center">2022年团建费用-方领</td>
<td style="text-align:center">2315.62</td>
</tr>
<tr>
<td style="text-align:center">2022年1月12日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">69</td>
<td style="text-align:center">2022年团建费用-龙卓</td>
<td style="text-align:center">2246.62</td>
</tr>
<tr>
<td style="text-align:center">2022年1月12日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">70</td>
<td style="text-align:center">2022年团建费用-黄风琴</td>
<td style="text-align:center">2176.62</td>
</tr>
<tr>
<td style="text-align:center">2022年1月16日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">57</td>
<td style="text-align:center">2022年团建费用-谢金平</td>
<td style="text-align:center">2119.62</td>
</tr>
<tr>
<td style="text-align:center">2022年1月16日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">69.9</td>
<td style="text-align:center">2022年团建费用-周俊鸿</td>
<td style="text-align:center">2049.72</td>
</tr>
<tr>
<td style="text-align:center">2022年4月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">88</td>
<td style="text-align:center">胶水-谢金平</td>
<td style="text-align:center">1961.72</td>
</tr>
<tr>
<td style="text-align:center">2022年4月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">73.5</td>
<td style="text-align:center">空气开关-谢金平</td>
<td style="text-align:center">1888.22</td>
</tr>
<tr>
<td style="text-align:center">2022年4月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">25.8</td>
<td style="text-align:center">锉刀-谢金平</td>
<td style="text-align:center">1862.42</td>
</tr>
<tr>
<td style="text-align:center">2022年5月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">63.75</td>
<td style="text-align:center">LCD12864-唐瑶</td>
<td style="text-align:center">1798.67</td>
</tr>
<tr>
<td style="text-align:center">2022年5月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">408</td>
<td style="text-align:center">DSP28335开发板-唐瑶</td>
<td style="text-align:center">1390.67</td>
</tr>
<tr>
<td style="text-align:center">2022年5月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">157.1</td>
<td style="text-align:center">电机控制书籍-唐瑶</td>
<td style="text-align:center">1233.57</td>
</tr>
<tr>
<td style="text-align:center">2022年5月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19.85</td>
<td style="text-align:center">出租车费用-方领</td>
<td style="text-align:center">1213.72</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">366.95</td>
<td style="text-align:center">PCB打样费用-周俊鸿</td>
<td style="text-align:center">846.77</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">55.9</td>
<td style="text-align:center">miniDP显示器连接器-周俊鸿</td>
<td style="text-align:center">790.87</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">107.40</td>
<td style="text-align:center">碳纤维棒用于支撑传感器-周俊鸿</td>
<td style="text-align:center">683.47</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">48</td>
<td style="text-align:center">3M 75不干胶-周俊鸿</td>
<td style="text-align:center">635.47</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">32.8</td>
<td style="text-align:center">锡膏-周俊鸿</td>
<td style="text-align:center">603.47</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">132.75</td>
<td style="text-align:center">兆易创新MCU-周俊鸿</td>
<td style="text-align:center">470.72</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19.8</td>
<td style="text-align:center">兆易创新MCU下载器-周俊鸿</td>
<td style="text-align:center">450.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">5</td>
<td style="text-align:center">锡膏滴胶头-周俊鸿</td>
<td style="text-align:center">445.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13</td>
<td style="text-align:center">解胶剂-周俊鸿</td>
<td style="text-align:center">432.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">1008</td>
<td style="text-align:center">镜博差旅结余</td>
<td style="text-align:center">1440.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">20</td>
<td style="text-align:center">疫情封校搬东西打车费用-镜博&amp;彭鑫</td>
<td style="text-align:center">1420.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月2日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">24</td>
<td style="text-align:center">PCB打样-周俊鸿</td>
<td style="text-align:center">1396.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月9日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">10</td>
<td style="text-align:center">毕业小论文检索费用-方领</td>
<td style="text-align:center">1386.92</td>
</tr>
<tr>
<td style="text-align:center">2022年2月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">285</td>
<td style="text-align:center">018水费30桶</td>
<td style="text-align:center">1101.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月26日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">800</td>
<td style="text-align:center">彭鑫会议费用</td>
<td style="text-align:center">301.92</td>
</tr>
<tr>
<td style="text-align:center">2022年5月26日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">175.67</td>
<td style="text-align:center">彭鑫PYNQ内存卡等费用</td>
<td style="text-align:center">126.25</td>
</tr>
<tr>
<td style="text-align:center">2022年5月26日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">220</td>
<td style="text-align:center">方领查重费用</td>
<td style="text-align:center">-73.75</td>
</tr>
<tr>
<td style="text-align:center">2022年5月26日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">160</td>
<td style="text-align:center">镜博购买椅子</td>
<td style="text-align:center">-233.75</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19</td>
<td style="text-align:center">去南门口买器件打车费用（去）-镜博</td>
<td style="text-align:center">-252.75</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">19</td>
<td style="text-align:center">去南门口买器件打车费用（回）-镜博</td>
<td style="text-align:center">-271.75</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">78.78</td>
<td style="text-align:center">电源测试模块器件购买-镜博</td>
<td style="text-align:center">-350.53</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">235.10</td>
<td style="text-align:center">信号测试PCB器件LMH6644-周俊鸿</td>
<td style="text-align:center">-585.63</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">320</td>
<td style="text-align:center">信号测试PCB OPA4228UA-周俊鸿</td>
<td style="text-align:center">-905.63</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">800</td>
<td style="text-align:center">镜博会议费用</td>
<td style="text-align:center">-1705.63</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">297.5</td>
<td style="text-align:center">南门口购买器件-周俊鸿</td>
<td style="text-align:center">-2003.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">245.00</td>
<td style="text-align:center">信号处理子模块测试PCB打样费用-周俊鸿</td>
<td style="text-align:center">-2248.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">111</td>
<td style="text-align:center">电源子模块测试PCB打样费用-周俊鸿</td>
<td style="text-align:center">-2359.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">21</td>
<td style="text-align:center">邮寄费用-王玺帏</td>
<td style="text-align:center">-2380.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">22</td>
<td style="text-align:center">器件购买到付邮寄费用-周俊鸿</td>
<td style="text-align:center">-2402.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">15</td>
<td style="text-align:center">老师午饭外带-周俊鸿</td>
<td style="text-align:center">-2417.13</td>
</tr>
<tr>
<td style="text-align:center">2022年5月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">32.6</td>
<td style="text-align:center">打车费用-谢金平</td>
<td style="text-align:center">-2449.73</td>
</tr>
<tr>
<td style="text-align:center">2022年5月28日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">6000</td>
<td style="text-align:center"></td>
<td style="text-align:center">3550.27</td>
</tr>
<tr>
<td style="text-align:center">2022年6月23日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">84.07</td>
<td style="text-align:center">镜博故障诊断书籍</td>
<td style="text-align:center">3466.27</td>
</tr>
<tr>
<td style="text-align:center">2022年6月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">12.27</td>
<td style="text-align:center">国家重点研发集中办公打车-周俊鸿</td>
<td style="text-align:center">3454</td>
</tr>
<tr>
<td style="text-align:center">2022年6月28日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">17.65</td>
<td style="text-align:center">国家重点研发集中办公打车-梁惟芝</td>
<td style="text-align:center">3436.35</td>
</tr>
<tr>
<td style="text-align:center">2022年6月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">12.64</td>
<td style="text-align:center">国家重点研发集中办公打车-周俊鸿</td>
<td style="text-align:center">3423.71</td>
</tr>
<tr>
<td style="text-align:center">2022年6月29日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13.79</td>
<td style="text-align:center">国家重点研发集中办公打车-梁惟芝</td>
<td style="text-align:center">3409.92</td>
</tr>
<tr>
<td style="text-align:center">2022年6月30日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13.48</td>
<td style="text-align:center">国家重点研发集中办公打车-周俊鸿</td>
<td style="text-align:center">3396.44</td>
</tr>
<tr>
<td style="text-align:center">2022年6月30日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">17.27</td>
<td style="text-align:center">国家重点研发集中办公打车-梁惟芝</td>
<td style="text-align:center">3379.17</td>
</tr>
<tr>
<td style="text-align:center">2022年7月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13.5</td>
<td style="text-align:center">国家重点研发集中办公打车-周俊鸿</td>
<td style="text-align:center">3365.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">17.5</td>
<td style="text-align:center">国家重点研发集中办公打车-梁惟芝</td>
<td style="text-align:center">3348.17</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">720</td>
<td style="text-align:center">欧式96pin插接件x16<br />(Harting 09732966801)-周俊鸿</td>
<td style="text-align:center">2628.17</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">36</td>
<td style="text-align:center">永磁实验平台控制器锂电池购买打车费用-镜博</td>
<td style="text-align:center">2592.17</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">17.5</td>
<td style="text-align:center">永磁实验平台控制器锂电池购买-镜博</td>
<td style="text-align:center">2574.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">567</td>
<td style="text-align:center">永磁实验平台联轴器-镜博</td>
<td style="text-align:center">2007.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">739</td>
<td style="text-align:center">电路模块第一次整板制板-周俊鸿</td>
<td style="text-align:center">1268.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">77</td>
<td style="text-align:center">电路板洗板水与无水乙醇-周俊鸿</td>
<td style="text-align:center">1213.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">285</td>
<td style="text-align:center">018水票x30-周俊鸿</td>
<td style="text-align:center">928.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">40</td>
<td style="text-align:center">电路板焊接锡膏-周俊鸿</td>
<td style="text-align:center">888.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">55</td>
<td style="text-align:center">电路板印刷锡膏钢网-周俊鸿</td>
<td style="text-align:center">811.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">13</td>
<td style="text-align:center">唐瑶毕业证学位证邮寄-周俊鸿</td>
<td style="text-align:center">798.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">28</td>
<td style="text-align:center">电路板印刷锡膏钢网邮寄费用-周俊鸿</td>
<td style="text-align:center">770.67</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">18.64</td>
<td style="text-align:center">去南门口拿预定元器件打车费用-周俊鸿</td>
<td style="text-align:center">752.03</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">18.57</td>
<td style="text-align:center">去南门口拿预定元器件打车费用-周俊鸿</td>
<td style="text-align:center">733.46</td>
</tr>
<tr>
<td style="text-align:center">2022年7月17日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">4915</td>
<td style="text-align:center">南门口预付款，对公完成退回-周俊鸿</td>
<td style="text-align:center">-4181.54</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">1268.72</td>
<td style="text-align:center">整版打样PCBA，SMT费用-周俊鸿</td>
<td style="text-align:center">-5450.26</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">638</td>
<td style="text-align:center">PCB制板（补充数量）-周俊鸿</td>
<td style="text-align:center">-6088.26</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">116.6</td>
<td style="text-align:center">测试板信号侧2-周俊鸿</td>
<td style="text-align:center">-6204.86</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">61.6</td>
<td style="text-align:center">测试板信号侧1-周俊鸿</td>
<td style="text-align:center">-6266.46</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">75.68</td>
<td style="text-align:center">测试板底板侧-周俊鸿</td>
<td style="text-align:center">-6342.14</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">93.1</td>
<td style="text-align:center">测试板相关物料-周俊鸿<br />滑动开关SS12D10G4 071 x100<br />排针 / 2.54mm 1x40P 弯插 镀金 黑色 x30</td>
<td style="text-align:center">-6435.24</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">84.48</td>
<td style="text-align:center">锡膏、助焊油、小刷子、烙铁头等-周俊鸿</td>
<td style="text-align:center">-6519.72</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">69.20</td>
<td style="text-align:center">SCSI68插座母座-国产 x4-周俊鸿</td>
<td style="text-align:center">-6588.92</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">25</td>
<td style="text-align:center">SCSI68插座母座-原装进口 x1-周俊鸿</td>
<td style="text-align:center">-6613.92</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">74</td>
<td style="text-align:center">SCSI68P 插头铁壳卡扣式 x2-周俊鸿</td>
<td style="text-align:center">-6687.92</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">117.00</td>
<td style="text-align:center">SCSI68P 插头公座 x2-周俊鸿</td>
<td style="text-align:center">-6804.92</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">62.04</td>
<td style="text-align:center">测试级射频线、高频连接器-周俊鸿</td>
<td style="text-align:center">-6866.96</td>
</tr>
<tr>
<td style="text-align:center">2022年8月24日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">77.8</td>
<td style="text-align:center">插线板 x2-周俊鸿</td>
<td style="text-align:center">-6944.76</td>
</tr>
<tr>
<td style="text-align:center">2022年8月25日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">54</td>
<td style="text-align:center">教研室用的分线器-焦世琪</td>
<td style="text-align:center">-6998.76</td>
</tr>
<tr>
<td style="text-align:center">2022年8月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">153.23</td>
<td style="text-align:center">实验室纸巾-周俊鸿</td>
<td style="text-align:center">-7151.99</td>
</tr>
<tr>
<td style="text-align:center">2022年8月27日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">43</td>
<td style="text-align:center">传感器项目验收打车费用-唐镜博</td>
<td style="text-align:center">-7194.99</td>
</tr>
<tr>
<td style="text-align:center">2022年9月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">68</td>
<td style="text-align:center">顺丰累积邮寄费用-谢金平</td>
<td style="text-align:center">-7262.99</td>
</tr>
<tr>
<td style="text-align:center">2022年9月 1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">50</td>
<td style="text-align:center">带PLC伺服插头电池-谢金平</td>
<td style="text-align:center">-7312.99</td>
</tr>
<tr>
<td style="text-align:center">2022年9月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">32.04</td>
<td style="text-align:center">齿轮润滑油-谢金平</td>
<td style="text-align:center">-7345.03</td>
</tr>
<tr>
<td style="text-align:center">2022年9月1日</td>
<td style="text-align:center">支出</td>
<td style="text-align:center">900+900</td>
<td style="text-align:center">伺服电机驱动器</td>
<td style="text-align:center">-9145.03</td>
</tr>
<tr>
<td style="text-align:center">2022年9月6日</td>
<td style="text-align:center">收入</td>
<td style="text-align:center">4915</td>
<td style="text-align:center">南门口预付款，对公完成退回-周俊鸿</td>
<td style="text-align:center">-4230.03</td>
</tr>
<tr>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
<td style="text-align:center"></td>
</tr>
</tbody>
</table>
</div>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/2021%E5%B9%B4%E8%AE%B0%E8%B4%A6/" data-id="cl8x6hjqc000cw0oc1hkfhaw3" data-title="" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-信号处理板规划" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%9D%BF%E8%A7%84%E5%88%92/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.682Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%9D%BF%E8%A7%84%E5%88%92/">信号处理板计划</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>项目拟设计、开发与制作固定式样机信号调理电路板10块（用8备2）、便携式样机信号调理电路板5块（用4备1），共15块。具体技术说明见加工技术方案。</p>
<h2 id="总体设计方案"><a href="#总体设计方案" class="headerlink" title="总体设计方案"></a>总体设计方案</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091304026.png" alt="image-20220409130457985"></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091330575.png" alt=""></p>
<p>测试过程中，需要将几个部分单独测试，主要分为三个部分，分别制小板测试相关性能，另外需要制作两块模拟测试底板，即整板输出底板，整板输入底板；测试的相关指标与测试方法见加工技术方案。如下：</p>
<ol>
<li><p>输入模拟底板</p>
</li>
<li><p>输出模拟底板</p>
</li>
<li><p>电源板</p>
</li>
<li><p>信号处理板</p>
</li>
<li><p>信号选通板（可选待定，这个功能很单一，理论上不测试也行，主要用于练习）</p>
<h2 id="电源板"><a href="#电源板" class="headerlink" title="电源板"></a>电源板</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091403386.png" alt="image-20220409140306314"></p>
<p>电源部分的电路图如上所示，工程中也有该图，上图中没有给出插接件，需要另外添加电源接线端子，另外在第一次上电测试时，需要进行一定的防护，避免电容反接等失误所造成的电容炸裂，用一个罩子罩住，待确定电路正常工作后，可进行正常测试，测试工具包括电子负载，万用表，示波器等工具。测试内容包括不同负载下，±8V处电源波纹，±5V处电源波纹，输出电流范围0-4A，设计为2.5A左右，超过2.5A大电流上电测试时，需要做好防护。</p>
<p>电源部分最需要注意的时<strong>电容</strong>，特别是<strong>钽电容</strong>（E<em>），出于安全以及体积的考虑，未采用常用铝电解电容，而选用钽电容，钽电容又称安规电容，特点是耐压低，不会发生铝电解电容的炸裂现象，而是直接烧毁，并且耐压较低，不会因为脉冲浪涌电压损坏后级电路。但在测试时，需要保证电压不能超过所选用电容的耐压值，本设计中全部采用<strong>100uF，16V，E封装</strong>，在购买时若可选更高耐压，<em>*相同封装</em></em>，容值相近，应选用更高耐压电容。<a target="_blank" rel="noopener" href="https://blog.csdn.net/xiahailong90/article/details/77007748">贴片钽电容封封装及规格和参数资料<em>漠落的博客-CSDN博客</em>钽电容型号对照表</a></p>
<p>若烧毁，应查明原因，并调整其他元件参数，例如分压电阻参数。</p>
<h2 id="信号处理部分"><a href="#信号处理部分" class="headerlink" title="信号处理部分"></a>信号处理部分</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091515684.png" alt="image-20220409151547650"></p>
<p>信号处理部分又分为两个部分，如上图则是接口电路，其作用是将开关信号转换为电压信号，利用的是RC积分电路进行转换，运放是用于构建电压跟随电路，电压跟随器中反馈电阻（R1,R3），主要用于消除一些干扰，若干扰太大可调整其阻值，一般减小该阻值。</p>
<p>该部分电路主要注意由R45，R2，R4，C1构成的积分电路，测试时，可不焊接R4，该电阻是用于当信号源无法提供电流回路时，提供充放电回路，<strong>一般情况下R4应为开路，三个电阻阻值相同</strong>。当未接收到瞬断信号时，IN_0接地，放大器输入电压为0；当输入瞬断信号时，IN_0悬空，C1快速充电，积分达到高电平，瞬断信号结束后，C1快速放电达到低电平。</p>
<p>充放电时间由电容，电阻的值的时间常数确定，这里积分常数时间要求小于10ns，容值选用10pF,阻值选用1K，阻值太小会导致充放电电流变大，电路的功率会提高，故不能将电阻值选的太小。当然这个需要根据测试情况进行整定。<a target="_blank" rel="noopener" href="http://www.eeworld.com.cn/tools/RCshijianchangshu.html">RC时间常数在线计算</a></p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091532796.png" alt="image-20220409153253751"></p>
<p>左边的4228运放构建了一个一阶积分器，也是一个滤波器，不过不是根据频域来设计，而是根据时域设计，积分器在频域上是一个低通滤波器。其中R24为充电电阻，R20为放电电阻，C12为积分电容，时间常数为100ns，这里阻值选用1K，容值选用100pF，同样也是需要根据测试情况进行微调。后级8564为比较器，一般不会出什么问题，最多就是将R26，R28阻值减小或用0R电阻短接。另外进行小班测试时，同样需要另外选用插接件。</p>
<p>另外还需要将参考电压转换电路也要放在信号处理小板上，如下图</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091546383.png" alt="image-20220409154650343"></p>
<h2 id="模拟开关部分"><a href="#模拟开关部分" class="headerlink" title="模拟开关部分"></a>模拟开关部分</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204091606054.png" alt="image-20220409160653999"></p>
<p>模拟开关的功能是非常简单的，就是将某个通道打开或者关断，默认都是关断，只要控制哪一路打开就行，需要注意地址线采用拨码开关，进行0或1的给定，开关需要必要的限流电阻，否则会断路，拨码开关的电路未给出，需要自己发挥一下了。</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%9D%BF%E8%A7%84%E5%88%92/" data-id="cl8x6hjq40006w0oc4aaodh4f" data-title="信号处理板计划" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-新能源汽车电池数据清洗" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E6%96%B0%E8%83%BD%E6%BA%90%E6%B1%BD%E8%BD%A6%E7%94%B5%E6%B1%A0%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.680Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E6%96%B0%E8%83%BD%E6%BA%90%E6%B1%BD%E8%BD%A6%E7%94%B5%E6%B1%A0%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/">新能源汽车电池数据清洗</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="数据清洗"><a href="#数据清洗" class="headerlink" title="数据清洗"></a>数据清洗</h3><h5 id="数据清洗的一些标准"><a href="#数据清洗的一些标准" class="headerlink" title="数据清洗的一些标准"></a>数据清洗的一些标准</h5><ul>
<li>唯一性：不存在无意义的重复数据。</li>
<li>完整性：数据完成且连续。</li>
<li>一致性：数据在多元数据源中意义一致。</li>
<li>有效性：数据在分析的时间点是有效的。</li>
</ul>
<h5 id="对各个字段的处理"><a href="#对各个字段的处理" class="headerlink" title="对各个字段的处理"></a>对各个字段的处理</h5><ul>
<li>vid-车辆ID，数据分割完基本上就可以删除了，或者在最后导入模型计算的时候再去除，或者矩阵名要严格对应。</li>
<li>daq_time-数据采集时刻，需要转换为方便使用的秒单位，当前格式便于查看，不便于计算。</li>
<li>status-车辆状态，如果有缺失，可以按照速度，电流等字段进行判断是启动还是未启动，之后需要根据该字段进行电池单个循环的一个分割。</li>
<li>c_stat-充电状态，尽量补全，主要是充电完成该标识非常有意义，前三项指标都可以根据其他的字段补充，比较冗余，有线性关系。</li>
<li>mode-车辆运行模式，这个基本上可以删除，因为都是纯电。</li>
<li>speed-车速，速度可以根据里程，电流等进行补全。</li>
<li>mileage-里程，主要根据速度，或者本字段进行补全。</li>
<li>t_volt-总电压，非常重要的字段，尽量补全，一般为线性，一般由本身字段补全。</li>
<li>t_current-总电流 ，非常重要的字段，尽量补全，与速度，充电状态等字段相关，可由自身字段或者相关字段补齐。</li>
<li>soc-电池荷电状态，同样是非常重要的字段，尽量补全，一般为线性，跟充放电，速度相关，由自身或者相关字段补全。</li>
<li>max_cell_volt-电池单体电压最高值，尽量补全，该字段是故障判断的重要字段，而故障也是电池SOH的重要影响因素。通常与前后时刻相关，相同。</li>
<li>min_cell_volt-电池单体电压最低值，尽量补全，该字段是故障判断的重要字段，而故障也是电池SOH的重要影响因素。与单体最高值相对应，表征电池组中单体的一致性，若一致性较差，则SOH必然下降，通常与前后时刻相关，相同。</li>
<li>max_temp-最高温度，电池组的最高温度，大致上就是单体电池的最高温度，如果发生短路或相关故障时，温度升高是非常重要的指标。故尽量补全，一般与前后时刻相关，相同。</li>
<li>min_temp-最低温度，电池组的最低温度，大致上就是单体电池的最低温度，主要是根据最高温度，判断电池组单体电池的一致性，一般与前后时刻相关，相同。</li>
<li>max_alarm_lvl-最高报警等级，重要的故障标签，不能随便补齐，一般也都有数据。</li>
<li>genral-alarm-通用报警标志，重要的故障标签，不能随便补齐，一般也都有数据。</li>
</ul>
<p>参考链接：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/20571505">数据清洗的一些梳理 - 知乎 (zhihu.com)</a></p>
<p><img src="https://pic4.zhimg.com/8aee59b038c0f3a15d4e2d871bfd5ffb_r.jpg" alt="preview"></p>
<h5 id="预处理阶段"><a href="#预处理阶段" class="headerlink" title="预处理阶段"></a>预处理阶段</h5><ul>
<li>导入数据</li>
<li>查看数据：查看字段涵义，字段数据情况</li>
</ul>
<h5 id="第一步：缺省值清洗"><a href="#第一步：缺省值清洗" class="headerlink" title="第一步：缺省值清洗"></a>第一步：缺省值清洗</h5><p>缺失值最为常见，也是我们这次数据集里面存在较多的情况。</p>
<ol>
<li><p><strong>确定缺失值范围</strong>：对每个字段都计算其缺失值比例，然后按照缺失比例和字段重要性，分别制定策略，可用下图表示：</p>
<p><img src="https://pic2.zhimg.com/20af3ec040211ec769d1b1a4e4ddb43d_r.jpg" alt="preview"></p>
</li>
<li><p><strong>去除不需要的字段</strong>：注意备份，我们这次数据集里面汽车类型mode和日期就可以去除。</p>
</li>
<li><strong>填充缺失内容</strong>：对于我们数据集里面，第一步是根据电流积分求容量，所以电流数据基本上要是完整的，不能去除，只能填充。<ul>
<li>以不同指标的计算结果填充，就电流为例，如果缺失，但有速度，速度基本恒定，那忽略上下坡，认为功率一定，电流一定。若为停车状态，那认为不开空调，认为不用电，电流为0，其他字段依次类推。</li>
<li>以同一指标的计算结果填充。</li>
<li>以业务知识或经验推测</li>
</ul>
</li>
<li><strong>重新获取</strong>：本次数据集不可重新获取</li>
</ol>
<h5 id="第二步：格式内容清洗"><a href="#第二步：格式内容清洗" class="headerlink" title="第二步：格式内容清洗"></a>第二步：格式内容清洗</h5><p>格式内容主要是将格式调整到我们方便使用的形式，比如说时间字段就需要转换成单位为秒，方便对电流的积分。以及其他字段的计算处理。</p>
<ol>
<li>时间、日期、数值、全半角等显示格式不一致</li>
<li>内容中有不符合该字段的字符或数据</li>
<li>内容中 有不该存在的字符，比如说空格，下划线，星号，等等</li>
</ol>
<h5 id="第三步：逻辑错误清洗"><a href="#第三步：逻辑错误清洗" class="headerlink" title="第三步：逻辑错误清洗"></a>第三步：逻辑错误清洗</h5><pre><code> 1. 去重，去除一些重复的数据，重复是指一个样本重复，我们数据集不存在同一个时刻的数据，应该不需要去重操作。
 2. 去除不合理的值，比方说电池的电压不能为零，里程数不能为零等等
 3. 修正矛盾内容，暂时我还没有发现矛盾数据，但应该会有的
</code></pre><h5 id="第四步：非需求数据清洗"><a href="#第四步：非需求数据清洗" class="headerlink" title="第四步：非需求数据清洗"></a>第四步：非需求数据清洗</h5><p>删除不需要的字段，就是数据并没有缺失，但没有什么用的字段，比如说完全冗余的字段：日期，比如说字段都是为1的汽车类型，就对我们的计算没有帮助，只是增加计算量。</p>
<h5 id="第五步：关联性验证"><a href="#第五步：关联性验证" class="headerlink" title="第五步：关联性验证"></a>第五步：关联性验证</h5><p>当数据类型有多个来源的时候，才需要这一步，我们不需要，我们全部都是从数据库里面导出来的。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E6%96%B0%E8%83%BD%E6%BA%90%E6%B1%BD%E8%BD%A6%E7%94%B5%E6%B1%A0%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/" data-id="cl8x6hjqb000bw0oc89l29d87" data-title="新能源汽车电池数据清洗" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-小样本学习" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.679Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0/">故障诊断方案</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <hr>
<h1 id="工作方向-故障诊断"><a href="#工作方向-故障诊断" class="headerlink" title="工作方向-故障诊断"></a>工作方向-故障诊断</h1><p>根据现有数据进行故障诊断模型的建立，进行故障的诊断。</p>
<p><img src="image-20211007203852513.png" alt="image-20211007203852513"></p>
<h2 id="数据集特点"><a href="#数据集特点" class="headerlink" title="数据集特点"></a>数据集特点</h2><p> <img src="../../../Desktop/data/%E6%95%85%E9%9A%9C%E6%A0%87%E8%AF%86.png" alt="故障标识"></p>
<p>故障标识</p>
<p><img src="%E6%95%85%E9%9A%9C%E7%AD%89%E7%BA%A7.png" alt="故障等级"></p>
<p>故障等级</p>
<ol>
<li>除了车辆6外，其他车辆故障样本都极度<strong>不平衡</strong>。</li>
<li>故障模型建立后，一般情况下不会再应用于现有的数据集，而是<strong>该辆车以后所采集的数据或其他车辆的故障诊断</strong>。</li>
<li>数据各项属性是<strong>异质</strong>的，且具有一定的冗余。</li>
</ol>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>针对数据集不平衡的情况，属于不平衡学习范畴。</p>
<h3 id="不平衡学习-Imbalanced-Learning"><a href="#不平衡学习-Imbalanced-Learning" class="headerlink" title="不平衡学习(Imbalanced Learning)"></a>不平衡学习(Imbalanced Learning)</h3><p><strong>定义：</strong>在数据集中，有一类含有的数据要远远多于其他类的数据（类别分布不平衡），例如负例和正例的比例为100:1。具体分为类间不平衡和类内不平衡。</p>
<p>解决不平衡问题主要的方法：</p>
<ol>
<li>随机采样</li>
<li>代价敏感学习</li>
<li>数据生成(以GAN为代表)</li>
</ol>
<h4 id="随机采样"><a href="#随机采样" class="headerlink" title="随机采样"></a>随机采样</h4><h5 id="过采样"><a href="#过采样" class="headerlink" title="过采样"></a>过采样</h5><p>从少数类集合中随机选择一个子集，如果要增强数据集，那么只需要在这个少数类中重复随机采样，把这些样本集合增加到原始数据集中。处理之后的数据集中存在很多重复的样本，可能会导致学习的规则比较具体，因此，可能会导致过拟合。</p>
<h5 id="欠采样"><a href="#欠采样" class="headerlink" title="欠采样"></a>欠采样</h5><p>在数据集中的多数类进行随机采样，然后把随机得到的样本集合从数据集中移除。当我们移除一些数据的时候，可能会失去一些重要的信息。为了避免这种信息损失带来的影响，在欠采样中，主要有两个方法：<strong>easyEnsemble</strong>，<strong>BalanceCascade</strong>。</p>
<p><strong>EasyEnsemble:</strong></p>
<p>EasyEnsemble主要是在数据集的多数类中进行随机采样，使得$|E|=|S_{min}|$，然后从原始数据集中将这些样本去掉。这种方法利用到集成学习的方法，具体过程如下：</p>
<ol>
<li><p>初始化：<em>i</em>表示迭代次数，T表示最大迭代次数，表示每一次训练得到的分类器，表示中的弱分类器的数量；</p>
</li>
<li><p>$i=0$；</p>
</li>
<li><p>从多数类<img src="gif-16336577977311.latex" alt="img">中随机选择一个子集$E$,$|E|=|S_{min}|$。</p>
</li>
<li><p>使用子集<img src="gif-16336578232435.latex" alt="img">和<img src="gif-16336578314437.latex" alt="img">，训练分类器$H<em>i$，$H_i$是由$s_i$个弱分类器$h</em>{i,j}$集合而成，其中每个弱分类器的权重为$\alpha_{i,j}$，阈值为：$\theta_i$。因此</p>
<script type="math/tex; mode=display">
H_i(x)=sgn(\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\theta_i)</script></li>
<li><p>重复步骤 3-5，直到$i=T$；</p>
</li>
<li><p>最后，输出一个集成学习器</p>
<script type="math/tex; mode=display">
H(x)=sgn(\sum_{i=1}^{T}\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\sum_{i=1}^{T}\theta_i)</script></li>
</ol>
<p>EasyEnsemble产生T个子问题，每一个子问题都会生成一个集成的学习器，这个学习器是由个弱分类器集成的。每一步中，弱分类的训练采用Bootstrap采样方法。我们可以将每个弱分类器看成是从不同的训练集中得到的特征，每个集成的分类器看成是不同的特征的线性组合。最后把这些T个集成的分类器再进行集成。因此，我们可以把EasyEnsemble方法看成是集成的集成，它是一个无监督的方法。</p>
<p><strong>BalanceCascade:</strong></p>
<p>BalanceCascade方法类似于EasyEnsemble，不同之处在于：</p>
<ul>
<li>BalanceCascade是一个监督学习的方法；</li>
<li>BalanceCascade每一次生成一个$H<em>i$，对于样本$x_i\in S</em>{maj}$，如果该样本可以被正确分类，那么说明该样本是冗余的，因此，从多数类中把该样本删除；</li>
</ul>
<p>BalanceCascade的主要过程：</p>
<ol>
<li><p>初始化：i表示迭代次数，T表示最大迭代次数，<img src="gif-163365902171813.latex" alt="H_{i}">表示每一次训练得到的分类器，<img src="gif-163365902172115.latex" alt="s_{i}">表示<img src="https://private.codecogs.com/gif.latex?H_%7Bi%7D" alt="H_{i}">中的弱分类器的数量，误报率（把一个多数类的样本分类成少数类）<img src="S_%7Bmaj%7D%7D.gif" alt="f\Leftarrow \sqrt[T-1]{|S_{min}|/|S_{maj}|}">；</p>
</li>
<li><p>$i=0$</p>
</li>
<li><p>从多数类<img src="gif-16336577977311.latex" alt="img">中随机选择一个子集$E$,$|E|=|S_{min}|$。</p>
</li>
<li><p>使用子集<img src="gif-16336578232435.latex" alt="img">和<img src="gif-16336578314437.latex" alt="img">，训练分类器$H<em>i$，$H_i$是由$s_i$个弱分类器$h</em>{i,j}$集合而成，其中每个弱分类器的权重为$\alpha_{i,j}$，阈值为：$\theta_i$。因此</p>
<script type="math/tex; mode=display">
H_i(x)=sgn(\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\theta_i)</script></li>
<li><p>重新计算误报率，据此调整$\theta_i$；</p>
</li>
<li><p>从$S<em>{maj}$中删除可以被$H</em>{i}$确分类的样本；</p>
</li>
<li><p>重复步骤 3-7，直到$i=T$；</p>
</li>
<li><p>最后，输出一个集成学习器</p>
<script type="math/tex; mode=display">
H(x)=sgn(\sum_{i=1}^{T}\sum_{j=1}^{s_{i}}\alpha _{i,j}h_{i,j}(x)-\sum_{i=1}^{T}\theta _{i})</script><p>在这个方法中，每一次迭代过程都会造成数据集中多数类的数量减少，而且每一步的集成分类器都是由平衡的数据集训练得到的。只有当所有的$H_{i}(x)(i=1,2,3,…,T)$预测为正例的时候，最终的分类器才会预测为正例。因此，这种方法在每次迭代过程中，在有限的样本空间利用尽可能多的信息。</p>
<p><strong>SMOTE(The Synthetic Minority Oversampling Technique):</strong></p>
<p>SMOTE是一种合成采样的一种解决不平衡学习的方法，它已经被证明在很多领域都比较有效。它主要是基于现存的少数类样本，计算样本特征空间之间的相似度，然后创建人工合成样本。</p>
<ol>
<li>对于少数类$S<em>{min}\in S$中的样本，即，$x</em>{i}\in S_{min}$，计算它的K个近邻；</li>
<li>通过计算 n 维空间的欧式距离，得到距离$x<em>{i}$最近的 K 个$S</em>{min}$中的样本数据；</li>
<li>然后从 K 个近邻中，随机选择一个样本，产生人工合成的数据；具体的方法如下：</li>
</ol>
<p>$x<em>{new}=x</em>{i}+(\hat{x<em>{i}}-x</em>{i})\times \delta$，$x<em>{i}\in S</em>{min}$是一个少数类的样本，$\hat{x<em>{i}}$是$x</em>{i}$的其中一个近邻，$\delta \in [0,1]$是一个随机数。</p>
<p>SMOTE方法是一种过采样的方法，它克服了过采样的一些缺点，而且加强了原始数据。但是，SMOTE方法可能会造成一定的过拟合。</p>
</li>
</ol>
<h4 id="代价敏感学习"><a href="#代价敏感学习" class="headerlink" title="代价敏感学习"></a>代价敏感学习</h4><p>   代价敏感学习主要的是建立一个代价矩阵，代价矩阵中的数值代表样本被误分类之后的惩罚。例如，我们可以定义$C(Min,Maj)$为：把多数类的样本分类成少数类的代价，$C(Maj,Min)$表示把少数类的样本分类成多数类的代价。一般来说，把少数类的样本误分类所产生的代价往往比多熟练样本的误分类代价要大，因此，$C(Maj,Min)&gt;C(Min,Maj)$。代价敏感学习的目标是最小化整个训练集上的代价（贝叶斯条件风险）。</p>
<p>   同时，在多分类任务中，使用$C(i,j),i,j \in {1,2,3,…,C}$表示把 <em>j</em> 中的样本误分类成 <em>i</em> 的代价。下图表示多分类任务中的一个代价矩阵。<br>   <img src="image-20211008105626919.png" alt="image-20211008105626919"></p>
<p>   在这个例子中，最终的条件风险为：$R(i|x)=\sum _{j}P(j|x)C(i,j)$，其中$P(j|x)$表示样本被分类成 j 的概率。</p>
<p>   主要有三种方法实现代价敏感学习：</p>
<ol>
<li>把误分类代价作为数据集的权重，然后采用 Bootstrap 采样方法选择具有最好的数据分布的数据集；</li>
<li>以集成学习的模式来实现代价最小化的技术，这种方法可以选择很多标准的学习算法作为集成学习中的弱分类器；</li>
<li><p>把代价敏感函数或者特征直接合并到分类器的参数中，这样可以更好的拟合代价敏感函数。由于这类技术往往都具有特定的参数，因此这类方法没有统一的框架；</p>
<h4 id="数据生成-GAN"><a href="#数据生成-GAN" class="headerlink" title="数据生成(GAN)"></a>数据生成(GAN)</h4><p>GAN网络整体示意如下，这里的G网络的输入是一个符合简单分布如高斯分布或者均匀分布的随机噪声。</p>
<p><img src="v2-48a6a2a8b213f4bd52dfb694ad292f00_720w.jpg" alt="img"></p>
<p>generator 生成的分布可以假设为 $PG(x;θ)$，这是一个由 θ 控制的分布，θ 是这个分布的参数（如果是高斯混合模型，那么 θ 就是每个高斯分布的平均值和方差）</p>
<p>在真实分布中取出一些数据，${x1, x2, … , x_m}$，我们想要计算一个似然 $PG(x_i; θ)$，生成模型的似然为</p>
<script type="math/tex; mode=display">
L=\prod_{i=1}^mP_G(x^i;\theta)</script><p>让generator生成的数据真实的概率最大，等价于让模型的似然最大，问题转变为最大似然估计问题，需要求最大似然参数$\theta^*$。</p>
<script type="math/tex; mode=display">
</script><p><img src="90.jpeg" alt=""></p>
</li>
</ol>
<p>GAN模型的目标函数如下</p>
<p><img src="v2-64263acb7eeb012f7fa7e80446d4dac3_r.jpg" alt="preview"></p>
<p>GAN整体算法</p>
<p><img src="v2-ce9f2c59b74e1970692fafe7d713fc99_r.jpg" alt="preview"></p>
<p><strong>3个优势</strong></p>
<ol>
<li>能更好建模数据分布（图像更锐利、清晰）</li>
<li>理论上，GANs 能训练任何一种生成器网络。其他的框架需要生成器网络有一些特定的函数形式，比如输出层是高斯的。</li>
<li>无需利用马尔科夫链反复采样，无需在学习过程中进行推断，没有复杂的变分下界，避开近似计算棘手的概率的难题。</li>
</ol>
<p><strong>2个缺陷</strong></p>
<ol>
<li>难训练，不稳定。生成器和判别器之间需要很好的同步，但是在实际训练中很容易D收敛，G发散。D/G 的训练需要精心的设计。</li>
<li>模式缺失（Mode Collapse）问题。GANs的学习过程可能出现模式缺失，生成器开始退化，总是生成同样的样本点，无法继续学习。</li>
</ol>
<h3 id="特征增强-特征提取"><a href="#特征增强-特征提取" class="headerlink" title="特征增强(特征提取)"></a>特征增强(特征提取)</h3><p>数据的各项属性为异质，采用异质图谱构建样本特征。</p>
<p><strong>同质</strong>（Homogeneity ）与<strong>异质</strong>（Heterogeneity）系一对科学与统计学中常用的对一种生物组织或物质的均匀性进行描述的概念。如果一种材料或一幅图像具有同质性（或者说是同质的），那么它就是由同样的单元堆砌而成的，或者它各部分的特征（如颜色、形状、大小、重量、高度、分布、质地、语言、收入、疾病、温度、放射性、架构设计等）都是相同的。相对的，如果一种物质至少一种特征的分布明显不均匀，那么它就具有异质性。</p>
<p><strong>利用异质网络建模这种类型丰富且交互复杂的数据，可以保留更全面的语义及结构信息。</strong>相较于同质网络，异质网络建模带来了两方面的好处：</p>
<ol>
<li>异质网络不仅可以自然融合不同类型对象及其交互，而且可以融合异构数据源的信息。在大数据时代来源不同的数据仅捕获了部分甚至是有偏差的特征，异质图网络可以对这些数据进行综合处理。因此异质网络建模不仅成为解决大数据多样性的有力工具，而且成为宽度学习的主要方法。</li>
<li>异质网络包含丰富的结构和语义信息，为发现隐含模式提供了精准可解释的新途径。例如，推荐系统的异质网络中不再只有用户和商品这两种对象，而是包含店铺、品牌等更全面的内容，关系也不再只有购买，而是含有收藏、喜爱等更精细的交互。基于这些信息，利用元路径和元图等语义挖掘方法，可以产生更精细的知识发现。</li>
</ol>
<p><strong>异质图的相关概念</strong></p>
<p><img src="https://img-blog.csdnimg.cn/2020103111192626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MDE1MDU5,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p>
<p><img src="watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MDE1MDU5,size_16,color_FFFFFF,t_70%23pic_center.png" alt="img"></p>
<p><strong>如何构建异质图注意力机制图神经网络</strong></p>
<ol>
<li>Heterogeneity of graph：如果确定图中的边，<strong>如何处理如此复杂的结构信息，同时保留多样的特征信息，是一个迫切需要解决的问题</strong></li>
<li>Semantic-level attention：<strong>如何为具体任务选择最有意义的元路径并融合语义信息是一个有待解决的问题</strong>。</li>
<li>Node-level attention：<strong>给定一个元路径，每个节点都有许多基于元路径的邻居。如何区分这些邻居之间的细微差别，选择具有信息的邻居是需要解决的问题。对于每个节点，节点级注意的目的是了解基于元路径的邻居的重要性，并为它们分配不同的注意值</strong>。</li>
</ol>
<p><strong>如何确定边-自适应近邻分类(the clustering with adaptive neighbor-CAN)</strong></p>
<script type="math/tex; mode=display">
min\sum_{i,j=1}^{n}||z_i-z_j||^2s_{ij}+\gamma _{ij}^2
\\
s.t. s_{ij} \in (0,1), I^T_{s_i}=1,rank(L_s)=n-c</script><p>其中，$z={z<em>1,z_2,…,z_n},z \in R^{n \times m}$，为数据样本集，$z_i$与$z_j$近邻可能性为$s</em>{ij}$，CAN的假设就是他们之间的距离越小，近邻可能性越大。$\gamma$为可调节参数，<em>I</em>为单位矩阵，$L_s$为拉普拉斯算子，由相似矩阵$s={s_1,s_2,…,s_n}$定义，图的连接关系可$L_s$的秩来给出。n为样本数量，c为连接的数量。</p>
<h3 id="建立模型"><a href="#建立模型" class="headerlink" title="建立模型"></a>建立模型</h3><h4 id="AdaBoost"><a href="#AdaBoost" class="headerlink" title="AdaBoost"></a>AdaBoost</h4><p>Boosting, 也称为增强学习或提升法，是一种重要的集成学习技术， 能够将预测精度仅比随机猜度略高的弱学习器增强为预测精度高的强学习器，这在直接构造强学习器非常困难的情况下，为学习算法的设计提供了一种有效的新思路和新方法。AdaBoost算法框架如下图所示</p>
<p><img src="1.jpg" alt="1"></p>
<p><strong>Adaboost算法可以简述为三个步骤：</strong><br>（1）首先，是初始化训练数据的权值分布D1。假设有N个训练样本数据，则每一个训练样本最开始时，都被赋予相同的权值：w1=1/N。<br>（2）然后，训练弱分类器hi。具体训练过程中是：如果某个训练样本点，被弱分类器hi准确地分类，那么在构造下一个训练集中，它对应的权值要减小；相反，如果某个训练样本点被错误分类，那么它的权值就应该增大。权值更新过的样本集被用于训练下一个分类器，整个训练过程如此迭代地进行下去。<br>（3）最后，将各个训练得到的弱分类器组合成一个强分类器。各个弱分类器的训练过程结束后，加大分类误差率小的弱分类器的权重，使其在最终的分类函数中起着较大的决定作用，而降低分类误差率大的弱分类器的权重，使其在最终的分类函数中起着较小的决定作用。<br>换而言之，误差率低的弱分类器在最终分类器中占的权重较大，否则较小。</p>
<p><strong>优点</strong></p>
<p>（1）Adaboost提供一种框架，在框架内可以使用各种方法构建子分类器。可以使用简单的弱分类器，不用对特征进行筛选，也<strong>不存在过拟合的现象</strong>。</p>
<p>（2）Adaboost算法不需要弱分类器的先验知识，最后得到的强分类器的分类精度依赖于所有弱分类器。无论是应用于人造数据还是真实数据，Adaboost都能显著的提高学习精度。</p>
<p>（3）Adaboost算法不需要预先知道弱分类器的错误率上限，且最后得到的强分类器的分类精度依赖于所有弱分类器的分类精度，可以深挖分类器的能力。Adaboost可以根据弱分类器的反馈，自适应地调整假定的错误率，执行的效率高。</p>
<p>（4）Adaboost对同一个训练样本集训练不同的弱分类器，按照一定的方法把这些弱分类器集合起来，构造一个分类能力很强的强分类器，即“三个臭皮匠赛过一个诸葛亮”。</p>
<p><strong>缺点：</strong></p>
<p>在Adaboost训练过程中，Adaboost会使得难于分类样本的权值呈指数增长，训练将会过于偏向这类困难的样本，导致Adaboost算法易受噪声干扰。此外，Adaboost依赖于弱分类器，而弱分类器的训练时间往往很长。</p>
<h4 id="GAT"><a href="#GAT" class="headerlink" title="GAT"></a>GAT</h4><p>GAT是一种典型的图神经网络方法， 注意力系数为表示为</p>
<script type="math/tex; mode=display">
e_{ij}=a(Wh_i,Wh_j)</script><p>其中$a(.)$为线性函数，<em>W</em>为所有节点的权重系数矩阵，$e_{ij}$表示$V_i$与$V_j$的重要性，即节点之间的距离，为有效的将节点进行比对，采用softmax进行中心化，softmax为</p>
<script type="math/tex; mode=display">
\alpha_{ij}=soft \max(e_{ij})</script><p>进一步的可以将节点$h_V^{·}$表示为</p>
<script type="math/tex; mode=display">
h^._V=g(x_V,E,\alpha_V)</script><p>g(`)是一个集合函数，则分类概率可表示为</p>
<script type="math/tex; mode=display">
p(y_V|x_V,E)=Cat(y_V|soft\max(Wh^._V))</script><p>其中，Cat是一个类别分布，经过多次的更新后，获得一个合适标签类别分布。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0/" data-id="cl8x6hjqd000ew0oc1c9u82be" data-title="故障诊断方案" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-小样本学习 - 副本" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0%20-%20%E5%89%AF%E6%9C%AC/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.677Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0%20-%20%E5%89%AF%E6%9C%AC/">小样本学习</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="小样本学习方法"><a href="#小样本学习方法" class="headerlink" title="小样本学习方法"></a>小样本学习方法</h1><p>解决问题：学习过程中过程数据不足。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">A(小样本) --&gt; B(样本多样性低,模型泛化能力差)</span><br></pre></td></tr></table></figure>
<h2 id="基于无标签的数据增强方法"><a href="#基于无标签的数据增强方法" class="headerlink" title="基于无标签的数据增强方法"></a>基于无标签的数据增强方法</h2><h3 id="半监督学习"><a href="#半监督学习" class="headerlink" title="半监督学习"></a>半监督学习</h3><p>半监督学习：利用无标签数据对小样本数据集进行扩充的主要方法之一。通俗的来说就是先利用现有的少量的有标签数据训练一个弱模型，然后利用这个弱模型去识别判定无标签样本，再利用训练结果继续训练弱模型，来提高模型的判别能力。</p>
<h3 id="数据合成"><a href="#数据合成" class="headerlink" title="数据合成"></a>数据合成</h3><p>利用小样本数据合成新的带标签数据来扩充训练，不平衡学习，一般采用到的算法是GAN，用于生成类似的带标签样本来平衡数据集。</p>
<h3 id="特征增强"><a href="#特征增强" class="headerlink" title="特征增强"></a>特征增强</h3><p>通过增强样本的特征空间来提高样本的多样性，特征空间的变换主要采用局部或全局的融合。特征增强本质上就是进行特征空间的变换，利用样本的冗余属性，提高样本之间的区分度，从而提高样本的多样性。</p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li>可以合理的利用无标签数据。</li>
<li>可以更好的利用冗余特征，用于特征的增强。</li>
</ol>
<h2 id="迁移学习"><a href="#迁移学习" class="headerlink" title="迁移学习"></a>迁移学习</h2><p>利用旧知识学习新知识，旧知识的样本空间域称之为源域，应用的样本空间域为目标域。迁移学习允许源域与目标域的样本，任务，分布有较大的差异。其有效性基本取决于领域之间的相似程度，同时迁移学习存在负迁移的现象。</p>
<h3 id="归纳迁移学习"><a href="#归纳迁移学习" class="headerlink" title="归纳迁移学习"></a>归纳迁移学习</h3><p><strong>源域与目标域相同，任务不相同</strong>，分为多任务学习(有标签)和自学习(无标签)，例如同一设备，不同工况等情形。具体的，主要是在源域中进行模型的训练，得到一个较为通用的模型，然后再在目标域进行训练微调或者直接进行使用，目标域可以是小样本或者无样本。</p>
<h3 id="直推式迁移学习"><a href="#直推式迁移学习" class="headerlink" title="直推式迁移学习"></a>直推式迁移学习</h3><p><strong>源域(有标)与目标域(无标)有相似之处</strong>，例如电机上的轴承数据进行训练，去识别机车上故障。</p>
<h3 id="无监督迁移学习"><a href="#无监督迁移学习" class="headerlink" title="无监督迁移学习"></a>无监督迁移学习</h3><p>类似于归纳迁移学习，但着重于目标域的无监督学习。</p>
<h3 id="特点-1"><a href="#特点-1" class="headerlink" title="特点"></a>特点</h3><ol>
<li>负迁移表示不但没有提高模型的辨识能力，反而降低了识别率、</li>
<li>在非简单分类或回归问题问题时，如何优化算法。</li>
<li>如何跨领域学习</li>
<li>偏数据的处理，面临的问题是，数据收集的时候与下一次时刻的分布不一致。</li>
<li>迁移学习与多种深度学习的方法相结合的图像描述方法，图像呈现方法。</li>
</ol>
<h2 id="元学习"><a href="#元学习" class="headerlink" title="元学习"></a>元学习</h2><p>利用先验知识来指导模型在新任务中更快的学习。</p>
<h3 id="基于度量"><a href="#基于度量" class="headerlink" title="基于度量"></a>基于度量</h3><p>学习一个嵌入网络，将原始样本转换为合适的样本特征空间，来计算样本之间的相似程度。本质上就是样本特征空间的转换。来获得更好的样本区分度，在进行下一步学习时可转换为简单分类或回归问题。</p>
<h3 id="基于优化"><a href="#基于优化" class="headerlink" title="基于优化"></a>基于优化</h3><p>在此方法中，优化初始化表征、优化网络参数方法在故障诊断领域均有应用。优化初始化表征方法关键为保证网络自身学习到一个好的初始化，使模型易于微调，不再需要手动配置模型的初始化权重参数，其中最经典的方法为不可知元模型，它的关键位要使新任务的损失函数对初始化权重敏感度最大化，估计得到参数最优解。</p>
<hr>
<h2 id="工作方向-故障诊断"><a href="#工作方向-故障诊断" class="headerlink" title="工作方向-故障诊断"></a>工作方向-故障诊断</h2><p>根据现有数据进行故障诊断模型的建立，进行故障的诊断。</p>
<p><img src="image-20211007203852513.png" alt="image-20211007203852513"></p>
<h3 id="数据集特点"><a href="#数据集特点" class="headerlink" title="数据集特点"></a>数据集特点</h3><p> <img src="../../../Desktop/data/%E6%95%85%E9%9A%9C%E6%A0%87%E8%AF%86.png" alt="故障标识"></p>
<p>故障标识</p>
<p><img src="%E6%95%85%E9%9A%9C%E7%AD%89%E7%BA%A7.png" alt="故障等级"></p>
<p>故障等级</p>
<ol>
<li>除了车辆6外，其他车辆故障样本都极度<strong>不平衡</strong>。</li>
<li>故障模型建立后，一般情况下不会再应用于现有的数据集，而是<strong>该辆车以后所采集的数据或其他车辆的故障诊断</strong>。</li>
<li>数据各项属性是<strong>异质</strong>的，且具有一定的冗余。</li>
</ol>
<h2 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h2><p>针对数据集不平衡的情况，属于不平衡学习范畴。</p>
<h3 id="不平衡学习-Imbalanced-Learning"><a href="#不平衡学习-Imbalanced-Learning" class="headerlink" title="不平衡学习(Imbalanced Learning)"></a>不平衡学习(Imbalanced Learning)</h3><p><strong>定义：</strong>在数据集中，有一类含有的数据要远远多于其他类的数据（类别分布不平衡），例如负例和正例的比例为100:1。具体分为类间不平衡和类内不平衡。</p>
<p>解决不平衡问题主要的方法：</p>
<ol>
<li>随机采样</li>
<li>代价敏感学习</li>
<li>数据生成(以GAN为代表)</li>
</ol>
<h4 id="随机采样"><a href="#随机采样" class="headerlink" title="随机采样"></a>随机采样</h4><h5 id="过采样"><a href="#过采样" class="headerlink" title="过采样"></a>过采样</h5><p>从少数类集合中随机选择一个子集，如果要增强数据集，那么只需要在这个少数类中重复随机采样，把这些样本集合增加到原始数据集中。处理之后的数据集中存在很多重复的样本，可能会导致学习的规则比较具体，因此，可能会导致过拟合。</p>
<h5 id="欠采样"><a href="#欠采样" class="headerlink" title="欠采样"></a>欠采样</h5><p>在数据集中的多数类进行随机采样，然后把随机得到的样本集合从数据集中移除。当我们移除一些数据的时候，可能会失去一些重要的信息。为了避免这种信息损失带来的影响，在欠采样中，主要有两个方法：<strong>easyEnsemble</strong>，<strong>BalanceCascade</strong>。</p>
<p><strong>EasyEnsemble:</strong></p>
<p>EasyEnsemble主要是在数据集的多数类中进行随机采样，使得$|E|=|S_{min}|$，然后从原始数据集中将这些样本去掉。这种方法利用到集成学习的方法，具体过程如下：</p>
<ol>
<li><p>初始化：<em>i</em>表示迭代次数，T表示最大迭代次数，表示每一次训练得到的分类器，表示中的弱分类器的数量；</p>
</li>
<li><p>$i=0$；</p>
</li>
<li><p>从多数类<img src="gif-16336577977311.latex" alt="img">中随机选择一个子集$E$,$|E|=|S_{min}|$。</p>
</li>
<li><p>使用子集<img src="gif-16336578232435.latex" alt="img">和<img src="gif-16336578314437.latex" alt="img">，训练分类器$H<em>i$，$H_i$是由$s_i$个弱分类器$h</em>{i,j}$集合而成，其中每个弱分类器的权重为$\alpha_{i,j}$，阈值为：$\theta_i$。因此</p>
<script type="math/tex; mode=display">
H_i(x)=sgn(\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\theta_i)</script></li>
<li><p>重复步骤 3-5，直到$i=T$；</p>
</li>
<li><p>最后，输出一个集成学习器</p>
<script type="math/tex; mode=display">
H(x)=sgn(\sum_{i=1}^{T}\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\sum_{i=1}^{T}\theta_i)</script></li>
</ol>
<p>EasyEnsemble产生T个子问题，每一个子问题都会生成一个集成的学习器，这个学习器是由个弱分类器集成的。每一步中，弱分类的训练采用Bootstrap采样方法。我们可以将每个弱分类器看成是从不同的训练集中得到的特征，每个集成的分类器看成是不同的特征的线性组合。最后把这些T个集成的分类器再进行集成。因此，我们可以把EasyEnsemble方法看成是集成的集成，它是一个无监督的方法。</p>
<p><strong>BalanceCascade:</strong></p>
<p>BalanceCascade方法类似于EasyEnsemble，不同之处在于：</p>
<ul>
<li>BalanceCascade是一个监督学习的方法；</li>
<li>BalanceCascade每一次生成一个$H<em>i$，对于样本$x_i\in S</em>{maj}$，如果该样本可以被正确分类，那么说明该样本是冗余的，因此，从多数类中把该样本删除；</li>
</ul>
<p>BalanceCascade的主要过程：</p>
<ol>
<li><p>初始化：i表示迭代次数，T表示最大迭代次数，<img src="gif-163365902171813.latex" alt="H_{i}">表示每一次训练得到的分类器，<img src="gif-163365902172115.latex" alt="s_{i}">表示<img src="https://private.codecogs.com/gif.latex?H_%7Bi%7D" alt="H_{i}">中的弱分类器的数量，误报率（把一个多数类的样本分类成少数类）<img src="S_%7Bmaj%7D%7D.gif" alt="f\Leftarrow \sqrt[T-1]{|S_{min}|/|S_{maj}|}">；</p>
</li>
<li><p>$i=0$</p>
</li>
<li><p>从多数类<img src="gif-16336577977311.latex" alt="img">中随机选择一个子集$E$,$|E|=|S_{min}|$。</p>
</li>
<li><p>使用子集<img src="gif-16336578232435.latex" alt="img">和<img src="gif-16336578314437.latex" alt="img">，训练分类器$H<em>i$，$H_i$是由$s_i$个弱分类器$h</em>{i,j}$集合而成，其中每个弱分类器的权重为$\alpha_{i,j}$，阈值为：$\theta_i$。因此</p>
<script type="math/tex; mode=display">
H_i(x)=sgn(\sum_{j=1}^{s_i}\alpha_{i,j}h_{i,j}(x)-\theta_i)</script></li>
<li><p>重新计算误报率，据此调整$\theta_i$；</p>
</li>
<li><p>从$S<em>{maj}$中删除可以被$H</em>{i}$确分类的样本；</p>
</li>
<li><p>重复步骤 3-7，直到$i=T$；</p>
</li>
<li><p>最后，输出一个集成学习器</p>
<script type="math/tex; mode=display">
H(x)=sgn(\sum_{i=1}^{T}\sum_{j=1}^{s_{i}}\alpha _{i,j}h_{i,j}(x)-\sum_{i=1}^{T}\theta _{i})</script><p>在这个方法中，每一次迭代过程都会造成数据集中多数类的数量减少，而且每一步的集成分类器都是由平衡的数据集训练得到的。只有当所有的$H_{i}(x)(i=1,2,3,…,T)$预测为正例的时候，最终的分类器才会预测为正例。因此，这种方法在每次迭代过程中，在有限的样本空间利用尽可能多的信息。</p>
<p><strong>SMOTE(The Synthetic Minority Oversampling Technique):</strong></p>
<p>SMOTE是一种合成采样的一种解决不平衡学习的方法，它已经被证明在很多领域都比较有效。它主要是基于现存的少数类样本，计算样本特征空间之间的相似度，然后创建人工合成样本。</p>
<ol>
<li>对于少数类$S<em>{min}\in S$中的样本，即，$x</em>{i}\in S_{min}$，计算它的K个近邻；</li>
<li>通过计算 n 维空间的欧式距离，得到距离$x<em>{i}$最近的 K 个$S</em>{min}$中的样本数据；</li>
<li>然后从 K 个近邻中，随机选择一个样本，产生人工合成的数据；具体的方法如下：</li>
</ol>
<p>$x<em>{new}=x</em>{i}+(\hat{x<em>{i}}-x</em>{i})\times \delta$，$x<em>{i}\in S</em>{min}$是一个少数类的样本，$\hat{x<em>{i}}$是$x</em>{i}$的其中一个近邻，$\delta \in [0,1]$是一个随机数。</p>
<p><img src="image-20211008105604570.png" alt="image-20211008105604570"></p>
<p>上图展示了SMOTE的具体过程。（a）图展示了一个典型的不平衡的数据，SMOTE中的 K 取值为6。（b）图中展示了一个随机产生的合成样本，这个样本是沿着和的直线产生的。</p>
<p>SMOTE方法是一种过采样的方法，它克服了过采样的一些缺点，而且加强了原始数据。但是，SMOTE方法可能会造成一定的过拟合。</p>
</li>
</ol>
<h4 id="代价敏感学习"><a href="#代价敏感学习" class="headerlink" title="代价敏感学习"></a>代价敏感学习</h4><p>   代价敏感学习主要的是建立一个代价矩阵，代价矩阵中的数值代表样本被误分类之后的惩罚。例如，我们可以定义$C(Min,Maj)$为：把多数类的样本分类成少数类的代价，$C(Maj,Min)$表示把少数类的样本分类成多数类的代价。一般来说，把少数类的样本误分类所产生的代价往往比多熟练样本的误分类代价要大，因此，$C(Maj,Min)&gt;C(Min,Maj)$。代价敏感学习的目标是最小化整个训练集上的代价（贝叶斯条件风险）。</p>
<p>   同时，在多分类任务中，使用$C(i,j),i,j \in {1,2,3,…,C}$表示把 <em>j</em> 中的样本误分类成 <em>i</em> 的代价。下图表示多分类任务中的一个代价矩阵。<br>   <img src="image-20211008105626919.png" alt="image-20211008105626919"></p>
<p>   在这个例子中，最终的条件风险为：$R(i|x)=\sum _{j}P(j|x)C(i,j)$，其中$P(j|x)$表示样本被分类成 j 的概率。</p>
<p>   主要有三种方法实现代价敏感学习：</p>
<ol>
<li>把误分类代价作为数据集的权重，然后采用 Bootstrap 采样方法选择具有最好的数据分布的数据集；</li>
<li>以集成学习的模式来实现代价最小化的技术，这种方法可以选择很多标准的学习算法作为集成学习中的弱分类器；</li>
<li><p>把代价敏感函数或者特征直接合并到分类器的参数中，这样可以更好的拟合代价敏感函数。由于这类技术往往都具有特定的参数，因此这类方法没有统一的框架；</p>
<h4 id="数据生成-GAN"><a href="#数据生成-GAN" class="headerlink" title="数据生成(GAN)"></a>数据生成(GAN)</h4><p>GAN网络整体示意如下，这里的G网络的输入是一个符合简单分布如高斯分布或者均匀分布的随机噪声。</p>
<p><img src="v2-48a6a2a8b213f4bd52dfb694ad292f00_720w.jpg" alt="img"></p>
<p>generator 生成的分布可以假设为 $PG(x;θ)$，这是一个由 θ 控制的分布，θ 是这个分布的参数（如果是高斯混合模型，那么 θ 就是每个高斯分布的平均值和方差）</p>
<p>在真实分布中取出一些数据，${x1, x2, … , x_m}$，我们想要计算一个似然 $PG(x_i; θ)$，生成模型的似然为</p>
<script type="math/tex; mode=display">
L=\prod_{i=1}^mP_G(x^i;\theta)</script><p>让generator生成的数据真实的概率最大，等价于让模型的似然最大，问题转变为最大似然估计问题，需要求最大似然参数$\theta^*$。</p>
<script type="math/tex; mode=display">
</script><p><img src="90.jpeg" alt=""></p>
</li>
</ol>
<p>GAN模型的目标函数如下</p>
<p><img src="v2-64263acb7eeb012f7fa7e80446d4dac3_r.jpg" alt="preview"></p>
<p>GAN整体算法</p>
<p><img src="v2-ce9f2c59b74e1970692fafe7d713fc99_r.jpg" alt="preview"></p>
<p><strong>3个优势</strong></p>
<ol>
<li>能更好建模数据分布（图像更锐利、清晰）</li>
<li>理论上，GANs 能训练任何一种生成器网络。其他的框架需要生成器网络有一些特定的函数形式，比如输出层是高斯的。</li>
<li>无需利用马尔科夫链反复采样，无需在学习过程中进行推断，没有复杂的变分下界，避开近似计算棘手的概率的难题。</li>
</ol>
<p><strong>2个缺陷</strong></p>
<ol>
<li>难训练，不稳定。生成器和判别器之间需要很好的同步，但是在实际训练中很容易D收敛，G发散。D/G 的训练需要精心的设计。</li>
<li>模式缺失（Mode Collapse）问题。GANs的学习过程可能出现模式缺失，生成器开始退化，总是生成同样的样本点，无法继续学习。</li>
</ol>
<h3 id="特征增强-特征提取"><a href="#特征增强-特征提取" class="headerlink" title="特征增强(特征提取)"></a>特征增强(特征提取)</h3><p>数据的各项属性为异质，采用异质图谱构建样本特征。</p>
<p><strong>同质</strong>（Homogeneity ）与<strong>异质</strong>（Heterogeneity）系一对科学与统计学中常用的对一种生物组织或物质的均匀性进行描述的概念。如果一种材料或一幅图像具有同质性（或者说是同质的），那么它就是由同样的单元堆砌而成的，或者它各部分的特征（如颜色、形状、大小、重量、高度、分布、质地、语言、收入、疾病、温度、放射性、架构设计等）都是相同的。相对的，如果一种物质至少一种特征的分布明显不均匀，那么它就具有异质性。</p>
<p><strong>利用异质网络建模这种类型丰富且交互复杂的数据，可以保留更全面的语义及结构信息。</strong>相较于同质网络，异质网络建模带来了两方面的好处：</p>
<ol>
<li>异质网络不仅可以自然融合不同类型对象及其交互，而且可以融合异构数据源的信息。在大数据时代来源不同的数据仅捕获了部分甚至是有偏差的特征，异质图网络可以对这些数据进行综合处理。因此异质网络建模不仅成为解决大数据多样性的有力工具，而且成为宽度学习的主要方法。</li>
<li>异质网络包含丰富的结构和语义信息，为发现隐含模式提供了精准可解释的新途径。例如，推荐系统的异质网络中不再只有用户和商品这两种对象，而是包含店铺、品牌等更全面的内容，关系也不再只有购买，而是含有收藏、喜爱等更精细的交互。基于这些信息，利用元路径和元图等语义挖掘方法，可以产生更精细的知识发现。</li>
</ol>
<p><strong>异质图的相关概念</strong></p>
<p><img src="https://img-blog.csdnimg.cn/2020103111192626.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MDE1MDU5,size_16,color_FFFFFF,t_70#pic_center" alt="img"></p>
<p><img src="watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0MDE1MDU5,size_16,color_FFFFFF,t_70%23pic_center.png" alt="img"></p>
<p><strong>如何构建异质图注意力机制图神经网络</strong></p>
<ol>
<li>Heterogeneity of graph：如果确定图中的边，<strong>如何处理如此复杂的结构信息，同时保留多样的特征信息，是一个迫切需要解决的问题</strong></li>
<li>Semantic-level attention：<strong>如何为具体任务选择最有意义的元路径并融合语义信息是一个有待解决的问题</strong>。</li>
<li>Node-level attention：<strong>给定一个元路径，每个节点都有许多基于元路径的邻居。如何区分这些邻居之间的细微差别，选择具有信息的邻居是需要解决的问题。对于每个节点，节点级注意的目的是了解基于元路径的邻居的重要性，并为它们分配不同的注意值</strong>。</li>
</ol>
<p><strong>如何确定边-自适应近邻分类(the clustering with adaptive neighbor-CAN)</strong></p>
<script type="math/tex; mode=display">
min\sum_{i,j=1}^{n}||z_i-z_j||^2s_{ij}+\gamma _{ij}^2
\\
s.t. s_{ij} \in (0,1), I^T_{s_i}=1,rank(L_s)=n-c</script><p>其中，$z={z<em>1,z_2,…,z_n},z \in R^{n \times m}$，为数据样本集，$z_i$与$z_j$近邻可能性为$s</em>{ij}$，CAN的假设就是他们之间的距离越小，近邻可能性越大。$\gamma$为可调节参数，<em>I</em>为单位矩阵，$L_s$为拉普拉斯算子，由相似矩阵$s={s_1,s_2,…,s_n}$定义，图的连接关系可$L_s$的秩来给出。n为样本数量，c为连接的数量。</p>
<h3 id="建立模型"><a href="#建立模型" class="headerlink" title="建立模型"></a>建立模型</h3><h4 id="AdaBoost"><a href="#AdaBoost" class="headerlink" title="AdaBoost"></a>AdaBoost</h4><p>Boosting, 也称为增强学习或提升法，是一种重要的集成学习技术， 能够将预测精度仅比随机猜度略高的弱学习器增强为预测精度高的强学习器，这在直接构造强学习器非常困难的情况下，为学习算法的设计提供了一种有效的新思路和新方法。AdaBoost算法框架如下图所示</p>
<p><img src="1.jpg" alt="1"></p>
<p><strong>Adaboost算法可以简述为三个步骤：</strong><br>（1）首先，是初始化训练数据的权值分布D1。假设有N个训练样本数据，则每一个训练样本最开始时，都被赋予相同的权值：w1=1/N。<br>（2）然后，训练弱分类器hi。具体训练过程中是：如果某个训练样本点，被弱分类器hi准确地分类，那么在构造下一个训练集中，它对应的权值要减小；相反，如果某个训练样本点被错误分类，那么它的权值就应该增大。权值更新过的样本集被用于训练下一个分类器，整个训练过程如此迭代地进行下去。<br>（3）最后，将各个训练得到的弱分类器组合成一个强分类器。各个弱分类器的训练过程结束后，加大分类误差率小的弱分类器的权重，使其在最终的分类函数中起着较大的决定作用，而降低分类误差率大的弱分类器的权重，使其在最终的分类函数中起着较小的决定作用。<br>换而言之，误差率低的弱分类器在最终分类器中占的权重较大，否则较小。</p>
<p><strong>优点</strong></p>
<p>（1）Adaboost提供一种框架，在框架内可以使用各种方法构建子分类器。可以使用简单的弱分类器，不用对特征进行筛选，也<strong>不存在过拟合的现象</strong>。</p>
<p>（2）Adaboost算法不需要弱分类器的先验知识，最后得到的强分类器的分类精度依赖于所有弱分类器。无论是应用于人造数据还是真实数据，Adaboost都能显著的提高学习精度。</p>
<p>（3）Adaboost算法不需要预先知道弱分类器的错误率上限，且最后得到的强分类器的分类精度依赖于所有弱分类器的分类精度，可以深挖分类器的能力。Adaboost可以根据弱分类器的反馈，自适应地调整假定的错误率，执行的效率高。</p>
<p>（4）Adaboost对同一个训练样本集训练不同的弱分类器，按照一定的方法把这些弱分类器集合起来，构造一个分类能力很强的强分类器，即“三个臭皮匠赛过一个诸葛亮”。</p>
<p><strong>缺点：</strong></p>
<p>在Adaboost训练过程中，Adaboost会使得难于分类样本的权值呈指数增长，训练将会过于偏向这类困难的样本，导致Adaboost算法易受噪声干扰。此外，Adaboost依赖于弱分类器，而弱分类器的训练时间往往很长。</p>
<h4 id="GAT"><a href="#GAT" class="headerlink" title="GAT"></a>GAT</h4><p>GAT是一种典型的图神经网络方法， 注意力系数为表示为</p>
<script type="math/tex; mode=display">
e_{ij}=a(Wh_i,Wh_j)</script><p>其中$a(.)$为线性函数，<em>W</em>为所有节点的权重系数矩阵，$e_{ij}$表示$V_i$与$V_j$的重要性，即节点之间的距离，为有效的将节点进行比对，采用softmax进行中心化，softmax为</p>
<script type="math/tex; mode=display">
\alpha_{ij}=soft \max(e_{ij})</script><p>进一步的可以将节点$h_V^{·}$表示为</p>
<script type="math/tex; mode=display">
h^._V=g(x_V,E,\alpha_V)</script><p>g(`)是一个集合函数，则分类概率可表示为</p>
<script type="math/tex; mode=display">
p(y_V|x_V,E)=Cat(y_V|soft\max(Wh^._V))</script><p>其中，Cat是一个类别分布，经过多次的更新后，获得一个合适标签类别分布。</p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><ol>
<li>数据样本不存在无标签情况，所有数据都是由汽车的下位机进行计算上传至服务器数据，分为故障与非故障，是否还能够用来半监督学习。</li>
<li>下位机已经计算得出了结果，服务器再计算一遍故障是否具有现实意义。</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E5%B0%8F%E6%A0%B7%E6%9C%AC%E5%AD%A6%E4%B9%A0%20-%20%E5%89%AF%E6%9C%AC/" data-id="cl8x6hjqc000dw0och48ua51f" data-title="小样本学习" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-文献阅读2021年9月22日" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB2021%E5%B9%B49%E6%9C%8822%E6%97%A5/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.676Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB2021%E5%B9%B49%E6%9C%8822%E6%97%A5/">锂电池电化学文献</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="A-Data-Driven-Auto-CNN-LSTM-Prediction-Model-for-Lithium-Ion-Battery-Remaining-Useful-Life"><a href="#A-Data-Driven-Auto-CNN-LSTM-Prediction-Model-for-Lithium-Ion-Battery-Remaining-Useful-Life" class="headerlink" title="A Data-Driven Auto-CNN-LSTM Prediction Model for Lithium-Ion Battery Remaining Useful Life"></a>A Data-Driven Auto-CNN-LSTM Prediction Model for Lithium-Ion Battery Remaining Useful Life</h3><h5 id="名词解释"><a href="#名词解释" class="headerlink" title="名词解释"></a>名词解释</h5><ul>
<li>LIB: Lithium-ion Battery</li>
<li>RUL: Remaining Useful Life</li>
<li>LSTM: Long Short-term Memory</li>
<li>SoC: State of Charge 荷电状态</li>
<li>SoH: State of Health 健康状态</li>
<li>SoP: State of Power 峰值功率</li>
<li>IC: Incremental Capacity 容量增量</li>
</ul>
<h5 id="算法框架"><a href="#算法框架" class="headerlink" title="算法框架"></a>算法框架</h5><p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210922100444314.png" alt="image-20210922100444314"></p>
<h5 id="数据结构"><a href="#数据结构" class="headerlink" title="数据结构"></a>数据结构</h5><p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210922101017258.png" alt="image-20210922101017258"></p>
<p>数据源比较单一，是充放电过程中的电压电流信息，所以在自动编码后还进一步的利用CNN和LSTM来进行数据特征的扩展，以便获得区分度更高的特征信息。</p>
<h3 id="Transfer-Learning-Based-State-of-Charge-Estimation-for-Lithium-Ion-Battery-at-Varying-Ambient-Temperatures"><a href="#Transfer-Learning-Based-State-of-Charge-Estimation-for-Lithium-Ion-Battery-at-Varying-Ambient-Temperatures" class="headerlink" title="Transfer Learning-Based State of Charge Estimation for Lithium-Ion Battery at Varying Ambient Temperatures"></a>Transfer Learning-Based State of Charge Estimation for Lithium-Ion Battery at Varying Ambient Temperatures</h3><h3 id="康永哲-博士论文-锂离子电池组容量估计与故障诊断方法研究"><a href="#康永哲-博士论文-锂离子电池组容量估计与故障诊断方法研究" class="headerlink" title="康永哲-博士论文-锂离子电池组容量估计与故障诊断方法研究"></a>康永哲-博士论文-锂离子电池组容量估计与故障诊断方法研究</h3><p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210922112708970.png" alt="image-20210922112708970"></p>
<p>电池包还有一个非常重要的问题则是一致性，存在短板效应，并且电池单体具有传染性，会影响周围电池单体的充放电过程，使其迅速老化。</p>
<h3 id="田佳强-博士论文-储能锂电池系统健康评估与故障诊断研究"><a href="#田佳强-博士论文-储能锂电池系统健康评估与故障诊断研究" class="headerlink" title="田佳强-博士论文-储能锂电池系统健康评估与故障诊断研究"></a>田佳强-博士论文-储能锂电池系统健康评估与故障诊断研究</h3><ul>
<li><p>电学行为模型</p>
<ul>
<li>电化学模型：Electrochemical Model：利用反应动力学方程描述电池工作过程的机理模型，通过偏微分方程(Partial differential equation,PDE)刻画电池液相，固相等扩散过程的动态特性，有较高的 精度模型。这种模型具有明确的物理意义，一般用于电池老化机理研究。电化学模型对于我们而言会比较困难，专业壁垒太高。</li>
<li>等效电路模型：Equivalent circuit model, ECM：采用电子元件来模拟电池行为。该模型一般用于电池状态的估计，充放电管理。涉及较多的则是电池等效电路模型的参数识别问题，</li>
<li>数据驱动模型：(Data-driven model，DDM)：基于数据驱动建模的方法可以在不清楚电池工作机理的前提下，通过人工智能算法学习出电池输入输出的映射关系，该方法依赖于现实测试工况，即数据集。</li>
</ul>
</li>
<li><p>热学行为模型</p>
<ul>
<li>分布参数热模型：较为精确，但难以工程实现</li>
<li>集总参数热模型：基于ECM、焦耳定律和传热原理，发展起来的电池热学行为。模型较为简单，便于工程实现，实际应用较广泛。</li>
</ul>
</li>
<li><p>老化行为模型</p>
<ul>
<li>解析模型：利用一系列的微分或偏微分方程描述电池内部激励参数或容量衰减和循环次数。</li>
<li>经验模型：利用经验公式描述电池容量衰减或阻抗增长规律。</li>
<li>基于机器学习的老化模型：建立循环次数、老化特征和电池容量或 阻抗之间的映射关系。老化特征主要包括增量容量(IC)，</li>
</ul>
</li>
<li><p>SOH：表征电池 当时老化情况</p>
<script type="math/tex; mode=display">
SOH = 1- \frac{Q_{loss}}{Q_{all,0}}</script><script type="math/tex; mode=display">
Q_{loss}=k_{LLI}Q_{LLI}+k_{LAM_{p}}Q_{LAM_{p}}+k_{LAM_{n}}Q_{LAM_{n}}</script><p>(all,0)是最开始电池通量，loss表示损失容量。</p>
<p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210923094322440.png" alt="image-20210923094322440"></p>
<ul>
<li><p>直接测量法需要大量的实际测量电参数数据，进行大量的充放电实验</p>
</li>
<li><p>贝叶斯估计法：需要良好的数据集支持。</p>
</li>
<li><p>数据驱动法：基于大量的老化数据建立统计模型</p>
</li>
<li><p>LLI-锂库存的损失：Loss of lithium inventory</p>
</li>
<li><p>LAMp: Loss of active materials in the positive electrode 正极活性物质的损失(容量减少主要原因)</p>
</li>
<li><p>LAMn: Loss of active materials in the negative electrode 负极活性物质的损失(容量减少主要原因)</p>
</li>
<li><p>固态电解液界面(Solid Electrolyte Interface SEI)</p>
<p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210923104128686.png" alt="image-20210923104128686"></p>
<p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210923104152364.png" alt="image-20210923104152364"></p>
<p>电池老化原因非常复杂，每种老化机制都是由两种或者是多种外部因素共同作用的。</p>
</li>
</ul>
</li>
<li><p>RUL：反应电池从当前SOH衰减至健康阈值可运行的循环次数，健康阈值一般为0.8。EOL: End of Life为0.8。</p>
</li>
<li><p>电池组一致性</p>
<p><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210923164650838.png" alt="image-20210923164650838"></p>
</li>
</ul>
<p>电池的一致性对电池组整体寿命有非常大的影响。</p>
<h3 id="A-New-Algorithm-for-the-SOH-Estimation-of-the-Single-Battery-in-Battery-power-Station"><a href="#A-New-Algorithm-for-the-SOH-Estimation-of-the-Single-Battery-in-Battery-power-Station" class="headerlink" title="A New Algorithm for the SOH Estimation of the Single Battery in Battery-power Station"></a>A New Algorithm for the SOH Estimation of the Single Battery in Battery-power Station</h3><ul>
<li>单个点是不能计算出SOH的，至少一次charge或者是一次discharge。必须是一段时间序列，故必要的切片，如何切片，行驶过程中的短时能量回收是不是要计算在内，计算在内的话，会导致碎片化，还是不应该计算在内，则首先要判断是不是在行驶过程中充电，这个倒比较好弄。</li>
<li><img src="C:\Users\zjh10\AppData\Roaming\Typora\typora-user-images\image-20210923220230581.png" alt="image-20210923220230581"></li>
</ul>
<p>要求给出SOH的指标解释，由什么构成。但事实上并不清楚好在哪里，差在哪里。故还是按照最基本的定义，工业中用的比较多的容量比较方式。容量，内阻这些重要参数并没有给出，但给出了相关电流等参数，电流为电量积分，故可以积分求出当前电量，然后根据电量来进行基本SOH的计算，然后再去利用数据去拟合，去表征SOH，进一步的去预测，或者进一步改善SOH这一指标的合理性和实用性。</p>
<p>这一步的前提是，电流的连续以及可靠，能够较为准确的积分出电量信息。电流连续的要求是时间间隔要相同，数据不能缺失，可能数据需要平滑操作，并且具有单位的转换，时间单位需要转换成量纲秒，间隔最好也应该是秒，但这个不好实现，因为数据有缺失，时间间隔可能需要为十秒或者更长，则相应的，电流的定义是单位秒通过的电荷量，则应该相匹配对应的时间间隔。</p>
<p>同时电量作为能量单位，与做功有关，则跟里程有一定关系，上海，北京两地，地势较为平坦，重力势能转换较小，故在一定程度上可认为车在平地行驶，做功为距离与摩檫力相乘，而摩檫力与地面结构有关，上海，北京两地经济较为发达，路面一致性较好，而车身自重与人体重量相差较大，与乘坐人数无关，即里程与做功，与电量存在相关线性关系。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E6%96%87%E7%8C%AE%E9%98%85%E8%AF%BB2021%E5%B9%B49%E6%9C%8822%E6%97%A5/" data-id="cl8x6hjq50008w0ocdkglbfr7" data-title="锂电池电化学文献" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-数据清洗日志2021年9月27日" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97%E6%97%A5%E5%BF%972021%E5%B9%B49%E6%9C%8827%E6%97%A5/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.673Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97%E6%97%A5%E5%BF%972021%E5%B9%B49%E6%9C%8827%E6%97%A5/">数据清洗日志2021年9月27日</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h4><p>通过notepad++打开数据csv文件，经过文本匹配后，未匹配到0xFF，0xFE字符，故导入matlab中NaN元素基本为缺失元素。</p>
<hr>
<p>导入matlab后，对缺失数据进行统计，统计数据如下表所示，行是各项属性，列是车辆编号，表中数值为NaN，即缺失元素数量，18行为为每辆车的数据量。</p>
<p><img src="image-20210927172327404.png" alt="image-20210927172327404"></p>
<p>利用二维图像显示如下图所示，属性11(电池单体最低电压)，属性12(电池单体最高电压)，属性13(电池单体最高温度)数据缺失最为严重，其次是属性7(里程数)以及属性6(速度)。车辆4数据丢失比例最高，其次是车辆1，车辆2，综合考虑，车辆4数据不予考虑，补齐数据难度太大，同样的车辆1，车辆2缺失比例太高了，补齐之后的数据可靠性比较低，收益太小，放弃。数据补齐工作重点放在车辆3，5，6，7，8；车辆9数据量少但贵在全面，可用于做测试样本，车辆10，数据丢失比例小，但数据量基数太大，数据补齐有一定困难，但不失为重要的训练样本。</p>
<p><img src="image-20210927210055823.png" alt="image-20210927210055823"><img src="image-20210927202630632.png" alt="image-20210927202630632"></p>
<p>数据缺失数量图</p>
<p><img src="image-20210927204220823.png" alt="image-20210927204220823"><img src="image-20210927203338006.png" alt="image-20210927203338006"></p>
<p>数据缺失比例</p>
<hr>
<p>通过以上分析可以发现车辆7数据样本基数较多，同时数据丢失量较少，故从车辆7开始入手处理。车辆7丢失数据如下图所示。</p>
<p><img src="image-20210927211138399.png" alt="image-20210927211138399"></p>
<p>属性1为车辆ID，显示NaN为格式转换问题，缺失数据在属性4上，属性4为充电状态，分为：</p>
<ol>
<li>停车充电</li>
<li>行驶充电</li>
<li>未充电状态</li>
<li>异常或无效</li>
</ol>
<p>属性3为车辆状态，1为启动状态，2为熄火状态；属性9为电池总电流状态，根据属性3可知缺失数据为行驶充电或未充电状态，而根据属性9，电流为负则为充电，电流为正则为放电，故可以较为容易的补齐数据。</p>
<hr>
<p>通过对车辆7的分析，发现属性4数据是线性相关的，可以通过其他数据计算得出。观察车辆3数据缺失情况，数据缺失基本上是存在于属性4，以及零散的属性7(里程)，属性11(电池单体最高电压)，属性12(电池单体最低电压)。通过查找定位属性7的缺失数据位置，如下图所示，属性11，属性12缺失数据在同一时刻，故除了补全之外，可直接删除这一数据样本。但根据实际情况，里程数可根据速度以及时间间隔求出，电池单体最高，最低电压，一般与前后时刻一致或线性相关。</p>
<p><img src="image-20210928102038893.png" alt="image-20210928102038893"></p>
<p>而在观察前后数据进行补全时，前后时间间隔差距较大，进一步进行观察时间变化规律。观察时间变化规律需要将时刻属性进行数据的格式转换。</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sec</span> = <span class="title">date2sec</span><span class="params">(date)</span></span></span><br><span class="line"></span><br><span class="line"><span class="built_in">sec</span> = <span class="number">0</span>;</span><br><span class="line">str = num2str(date);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">str1 = str(<span class="number">1</span>:<span class="number">4</span>);     <span class="comment">%%年份</span></span><br><span class="line">str2 = str(<span class="number">5</span>:<span class="number">6</span>);     <span class="comment">%%月份</span></span><br><span class="line">str3 = str(<span class="number">7</span>:<span class="number">8</span>);     <span class="comment">%%日</span></span><br><span class="line">str4 = str(<span class="number">9</span>:<span class="number">10</span>);    <span class="comment">%%小时</span></span><br><span class="line">str5 = str(<span class="number">11</span>:<span class="number">12</span>);   <span class="comment">%%分钟</span></span><br><span class="line">str6 = str(<span class="number">13</span>:<span class="number">14</span>);   <span class="comment">%%秒</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%%%% 年份转换</span></span><br><span class="line"><span class="keyword">switch</span> str1</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;2018&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;2019&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">31536000</span>;        <span class="comment">%%%%365*24*60*60=31536000;一年有多少秒</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;2020&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">63072000</span>;        <span class="comment">%%%%18，19都是平年，365天</span></span><br><span class="line">    <span class="keyword">otherwise</span></span><br><span class="line">        <span class="built_in">sec</span> = NaN;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%%% 月份转换</span></span><br><span class="line"><span class="keyword">switch</span> str2</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;01&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">0</span>;               <span class="comment">%%% 一月</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;02&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">2678400</span>;         <span class="comment">%%%18,19是平年31*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;03&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">5097600</span>;         <span class="comment">%%% 三月(31+28)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;04&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">7776000</span>;         <span class="comment">%%% 四月(31+28+31)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;05&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">10368000</span>;         <span class="comment">%%% 五月(31+28+31+30)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;06&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">13046400</span>;         <span class="comment">%%% 六月(31+28+31+30+31)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;07&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">15638400</span>;         <span class="comment">%%% 七月(31+28+31+30+31+30)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;08&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">18316800</span>;         <span class="comment">%%% 八月(31+28+31+30+31+30+31)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;09&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">20995200</span>;         <span class="comment">%%% 九月(31+28+31+30+31+30+31+31)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;10&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">23587200</span>;         <span class="comment">%%% 十月(31+28+31+30+31+30+31+31+30)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;11&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">26265600</span>;         <span class="comment">%%% 十一月(31+28+31+30+31+30+31+31+30+31)*24*60*60</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;12&#x27;</span></span><br><span class="line">        <span class="built_in">sec</span> = <span class="built_in">sec</span> + <span class="number">28857600</span>;         <span class="comment">%%% 十二月(31+28+31+30+31+30+31+31+30+31+30)*24*60*60</span></span><br><span class="line">    <span class="keyword">otherwise</span></span><br><span class="line">        <span class="built_in">sec</span> = NaN;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%%%% 日期转换</span></span><br><span class="line">day = str2double(str3);</span><br><span class="line"><span class="built_in">sec</span> = <span class="built_in">sec</span> + (day<span class="number">-1</span>)*<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%%% 小时转换</span></span><br><span class="line">hour = str2double(str4);</span><br><span class="line"><span class="built_in">sec</span> = <span class="built_in">sec</span> + hour*<span class="number">60</span>*<span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%%% 分钟转换</span></span><br><span class="line">minuter = str2double(str5);</span><br><span class="line"><span class="built_in">sec</span> = <span class="built_in">sec</span> + minuter*<span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">%%%% 秒</span></span><br><span class="line">second = str2double(str6);</span><br><span class="line"><span class="built_in">sec</span> = <span class="built_in">sec</span> + second;</span><br></pre></td></tr></table></figure>
<p>对各个车辆的时间属性变化进行观察，以确定在时间维度上，数据的缺失程度。</p>
<p><img src="%E8%BD%A6%E8%BE%861%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆1时间变化曲线"><img src="%E8%BD%A6%E8%BE%861%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆1时间差分曲线"></p>
<p>车辆1时间变化情况如上图所示，根据时间差分曲线上来看，时间维度上的间隔差距非常大，时间维度上数据丢失较为严重，同时考虑时间维度上已有数据缺失程度，车辆1数据不适用于建立相关模型，仅在有限条件下作为测试样本。</p>
<p><img src="%E8%BD%A6%E8%BE%862%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆2时间变化曲线"><img src="%E8%BD%A6%E8%BE%862%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆2时间差分曲线"></p>
<p>车辆2时间变化情况如上图所示，根据时间差分曲线上来看，时间维度上的间隔差距非常大，时间维度上数据丢失较为严重，同时考虑时间维度上已有数据缺失程度，车辆2数据不适用于建立相关模型，仅在有限条件下作为测试样本。</p>
<p><img src="%E8%BD%A6%E8%BE%863%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆3时间变化曲线"><img src="%E8%BD%A6%E8%BE%863%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆3时间差分曲线"><img src="%E8%BD%A6%E8%BE%863%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF2.png" alt="车辆3时间差分曲线2"></p>
<p>车辆3时间变化情况如上图所示，从时间变化曲线上看，时间基本呈线性增长，较为理想，从时间上的差分上看，时间间隔较为均衡，进一步处理后可进行相关模型的建立。</p>
<p><img src="%E8%BD%A6%E8%BE%864%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆4时间变化曲线"><img src="%E8%BD%A6%E8%BE%864%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆4时间差分曲线"></p>
<p>车辆4时间变化情况如上图所示，根据时间差分曲线上来看，最后一小段可以作为测试样本</p>
<p><img src="%E8%BD%A6%E8%BE%865%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆5时间变化曲线"><img src="%E8%BD%A6%E8%BE%865%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆5时间差分曲线"></p>
<p>车辆5时间变化情况如上图所示，根据时间差分曲线上来看，可以提交较多的测试或训练样本</p>
<p><img src="%E8%BD%A6%E8%BE%866%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆6时间变化曲线"><img src="%E8%BD%A6%E8%BE%866%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆6时间差分曲线"><img src="%E8%BD%A6%E8%BE%866%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF2.png" alt="车辆6时间差分曲线2"></p>
<p>车辆6时间变化情况如上图所示，从时间变化曲线上看线性增长部分较多，从时间差分曲线上看，可以有较多的训练样本。</p>
<p><img src="%E8%BD%A6%E8%BE%867%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆7时间变化曲线"><img src="%E8%BD%A6%E8%BE%867%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆7时间差分曲线"><img src="%E8%BD%A6%E8%BE%867%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF7.png" alt="车辆7时间差分曲线7"></p>
<p>车辆7时间变化情况如上图所示，根据时间差分曲线上来看，是十辆车中最为理想的一个数据样本，时间间隔差距较小，时间变化曲线线性度较好。</p>
<p><img src="%E8%BD%A6%E8%BE%868%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆8时间变化曲线"><img src="%E8%BD%A6%E8%BE%868%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆8时间差分曲线"></p>
<p>车辆8时间变化情况如上图所示，根据时间差分曲线上来看，可提取部分片段作为训练或测试样本。</p>
<p><img src="%E8%BD%A6%E8%BE%869%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF-16328329623001.png" alt="车辆9时间变化曲线"><img src="%E8%BD%A6%E8%BE%869%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF-16328329731242.png" alt="车辆9时间差分曲线"></p>
<p>车辆9时间变化情况如上图所示，根据时间差分曲线上来看，基本上没有规律性，该数据不可用。</p>
<p><img src="%E8%BD%A6%E8%BE%8610%E6%97%B6%E9%97%B4%E5%8F%98%E5%8C%96%E6%9B%B2%E7%BA%BF.png" alt="车辆10时间变化曲线"><img src="../../../Desktop/data/%E8%BD%A6%E8%BE%8610%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF.png" alt="车辆10时间差分曲线"><img src="%E8%BD%A6%E8%BE%8610%E6%97%B6%E9%97%B4%E5%B7%AE%E5%88%86%E6%9B%B2%E7%BA%BF2.png" alt="车辆10时间差分曲线2"></p>
<p>车辆10时间变化情况如上图所示，根据时间差分曲线上来看，数据平稳增长部分较多，并且数据量最大，去除部分不合理数据后可以作为训练样本。</p>
<hr>
<p>根据时间维度上的数据缺失情况，时间维度上数量缺失程度远远要大于现有数据中元素缺失情况，而作为依赖时间序列的模型，主要关注于时间上的连续性，补充缺失数据对修正时间连续性的作用不大，收益太小，可之间删除部分元素缺失的样本。</p>
<p>经过上述观察分析，车辆3，车辆6，车辆7，车辆10是较为良好的数据集，但在时间序列上依然存在：</p>
<ol>
<li><p>时间增长为负，即车辆在上传数据时，信号传输有滞后，信号传输乱码等情况。</p>
</li>
<li><p>时间序列断层，数据的采样率是非常高的，根据国标GB/T 32960-2016，数据采样周期在1~30秒不等，当前数据集数据采样周期在10秒左右。而根据实际情况，车辆若干天不启动、穿过长隧道、停放于地下室等无法与服务器通信的情况是存在的。</p>
</li>
</ol>
<ol>
<li>数据逻辑冲突，例如电池单体最高，最低电量为0，里程数减少等情况。</li>
</ol>
<p>以车辆7为例，下图是时间序列局部图，可以看出局部时间序列并不连续，呈现离散形式，类似于AD转换，PWM模拟正弦波的形式。由此可见车辆9数据并不是个例，而是因为时间周期太短，采样点太少，车辆9数据相当于其他车辆数据的局部数据，根据上文对车辆9数据的判断，局部数据是混乱的，不可使用的。局部时间序列数据存在多个最值，即存在多个相同的时间点，无法确定该时间点具体的数据正确与否。</p>
<p><img src="%E6%97%A5%E6%9C%9F%E5%BA%8F%E5%88%97%E5%8F%98%E5%8C%96%E5%9B%BE.png" alt="日期序列变化图"></p>
<p>未进行时间格式转换时的时间序列变化，同样是十几二十小时内反复变化，故出现取值反复横跳情况，格式转换操作并没有出现错误</p>
<p><img src="image-20210929173356906.png" alt="image-20210929173356906"></p>
<p>根据时间序列离散，类似于AD转换，PWM模拟正弦波的形式，同时电流数据也有阶段化取值的趋势，可参考PWM，AD的思路，将一段在一定时间段反复跳动的数值认为是AD转换时的噪声，将这一段数据值采用均值代替，其他属性数据采用融合的方式进行数据的提取，以此来提取建立模型的样本数据。而这一思路的阻碍在于，数据不等长，如下图所示，时间上的落差值不相等，数据索引即数据量也不相等，需要合理的去确定一个时间间隔进行重采样，重采样应该要考虑在一时间间隔内数据情况，进行取值。</p>
<p><img src="%E7%A7%92%E6%97%B6%E9%97%B4%E5%BA%8F%E5%88%97%E5%B1%80%E9%83%A8%E5%9B%BE.png" alt="秒时间序列局部图"></p>
<p><img src="image-20210929175735962.png" alt="image-20210929175735962"></p>
<p>接下来工作，还是提取有效样本。</p>
<ol>
<li><p>求出时间索引中，断层的边界，并分析样本其他数据的关系，进行数据合并。</p>
</li>
<li><p>设定合适时间单元，作为样本单元，构建时间连续的样本数据集。</p>
</li>
<li><p>对电流进行积分求当前电量，结合SoC求出当前电池的最大容量。并查阅相关资料，对应车辆的额定容量大小，通过公式求出SoH</p>
<script type="math/tex; mode=display">
SoC=\frac{Q_{disp}}{Q_{max}}
\\
SoH=\frac{Q_{max}}{Q_{nomin}}</script></li>
<li></li>
</ol>
<p>遇到的问题：</p>
<ol>
<li>这种方式会丢失很对的数据细节，包括后面故障标记，对故障的诊断不友好。</li>
<li></li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97%E6%97%A5%E5%BF%972021%E5%B9%B49%E6%9C%8827%E6%97%A5/" data-id="cl8x6hjq50007w0ocey5b3vbk" data-title="数据清洗日志2021年9月27日" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-课题组目标期刊" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E8%AF%BE%E9%A2%98%E7%BB%84%E7%9B%AE%E6%A0%87%E6%9C%9F%E5%88%8A/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.671Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/%E8%AF%BE%E9%A2%98%E7%BB%84%E7%9B%AE%E6%A0%87%E6%9C%9F%E5%88%8A/">课题组目标期刊</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="课题组目标期刊"><a href="#课题组目标期刊" class="headerlink" title="课题组目标期刊"></a>课题组目标期刊</h1><h3 id="一区："><a href="#一区：" class="headerlink" title="一区："></a>一区：</h3><ul>
<li>IEEE Transactions on Pattern Analysis and Machine Intelligence    (<strong>2021IF</strong>:16.389)    <strong>难度</strong>：很难</li>
<li>IEEE Signal Processing Magazine    (<strong>2021IF</strong>:12.551)    <strong>难度</strong>：较难</li>
<li>IEEE Transactions on Industrial Informatics    (<strong>2021IF</strong>:10.215)    <strong>难度</strong>：较难</li>
<li>IEEE Transactions on Industrial Electronics    (<strong>2021IF</strong>:8.236)    <strong>难度</strong>：很难 </li>
<li>Mechanical Systems and Signal Processing    (<strong>2021IF</strong>:6.823)    <strong>难度</strong>：较难（Elsivier期刊）</li>
<li>Reliability Engineering and System Safety       (<strong>2021IF</strong>:6.188)    <strong>难度</strong>：较难 （Elsivier期刊）</li>
<li>IEEE Transactions on Power Electronics           (<strong>2021IF</strong>:6.153)    <strong>难度</strong>：较难 </li>
</ul>
<h3 id="二区："><a href="#二区：" class="headerlink" title="二区："></a>二区：</h3><ul>
<li>ISA Transactions(<strong>2021IF</strong>:5.468) <strong>难度</strong>：一般（Elsivier期刊）老牌二区</li>
<li>Journal of The Franklin Institute(<strong>2021IF</strong>:4.504) <strong>难度</strong>：一般，老牌二区</li>
<li>IEEE Transactions on instrumentation and measurement(2021IF:4.016)难度：一般，老牌二区</li>
<li>Measurement(2021IF:3.927) 难度：一般（Elsivier期刊）新晋二区</li>
<li>IEEE sensors Journal(2021IF:3.301) 难度：一般，新晋二区</li>
</ul>
<h3 id="三区："><a href="#三区：" class="headerlink" title="三区："></a>三区：</h3><ul>
<li>Measurement Science and Technology(2021IF:2.046) 难度：较易（IOP）新晋三区</li>
<li>IET Science Measurement &amp; Technology(2021IF:1.914)难度：较易（IET据说都是开源的待考证）新晋三区</li>
<li>SENSORS-BASEL(2021IF:3.576))难度：较易，新晋三区</li>
<li>ELECTRONICS(2021IF:2.397） 难度：容易，三区</li>
</ul>
<h3 id="四区："><a href="#四区：" class="headerlink" title="四区："></a>四区：</h3><ul>
<li>Journal of Sensors(2021IF:2.137） 难度：容易，四区</li>
<li>TRANSACTIONS OF THE INSTITUTE OF MEASUREMENT AND CONTROL(2021IF:1.796) 难度：容易，四区</li>
<li>MEASUREMENT &amp; CONTROL(2021IF:1.704) 难度：容易，四区</li>
<li>JOURNAL OF DYNAMIC SYSTEMS MEASUREMENT AND CONTROL-TRANSACTIONS OF THE ASME(2021IF:1.372) 难度：容易，四区</li>
<li>Metrology and Measurement Systems(2021IF:1.155） 难度：容易，四区</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E8%AF%BE%E9%A2%98%E7%BB%84%E7%9B%AE%E6%A0%87%E6%9C%9F%E5%88%8A/" data-id="cl8x6hjq60009w0oc4ansaesx" data-title="课题组目标期刊" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-钴基非晶磁通门仿真" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/%E9%92%B4%E5%9F%BA%E9%9D%9E%E6%99%B6%E7%A3%81%E9%80%9A%E9%97%A8%E4%BB%BF%E7%9C%9F/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.669Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>根据近几年博士学位论文，采用钴基非晶材料制作磁通门可获得非常高的测量精度。文献总结另外再写。</p>
<h1 id="钴基非晶带材-Cobalt-based-amorphous-ribbon"><a href="#钴基非晶带材-Cobalt-based-amorphous-ribbon" class="headerlink" title="钴基非晶带材(Cobalt based amorphous ribbon)"></a>钴基非晶带材(Cobalt based amorphous ribbon)</h1><p>钴基非晶合金带材$CoNiFeSiB$由铁、钴、硅、硼组成，具有高磁导率、低矫顽力、极低损耗及良好的温度稳定性、接近零的磁致伸缩系数等特点。对机械应力不敏感，可以长期工作在恶劣环境中，大大提高产品器件的稳定性和可靠性，尤其适合军工电源中的变压器、电感等，替换坡莫合金和铁氧体。之前制作的磁通门传感器就是采用坡莫合金，但是坡莫合金高频性能有限，不能进一步小型化，故近两年的博士都是采用钴基非晶材料。</p>
<p>国产的钴基非晶材料牌号为CACO-01，CACO-02，其性能参数如下表所示：</p>
<p><a target="_blank" rel="noopener" href="https://www.transmart.net/cobalt-based-amorphous-ribbons"><strong>PERFORMANCE OF COBALT-BASED AMORPHOUS STRIP</strong></a></p>
<p>Cobalt based Amorphous ribbons</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>Item</strong></th>
<th><strong>Grade CACO-01</strong></th>
<th><strong>Grade CACO-02</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Strip thickness (<em>μ</em>m)</td>
<td>18-25</td>
<td>18-25</td>
</tr>
<tr>
<td>Fill factor σ</td>
<td>&gt;0.8</td>
<td>&gt;0.8</td>
</tr>
<tr>
<td>Magnetic induction B800/T</td>
<td>&gt;0.55</td>
<td>≥0.9</td>
</tr>
<tr>
<td>Coercivity <em>H</em>c (A/m)</td>
<td>&lt;0.13</td>
<td>≤1.0</td>
</tr>
<tr>
<td>Iron loss P0.4T/50k (W/kg)</td>
<td>&lt;65</td>
<td></td>
</tr>
<tr>
<td>Initial magnetic conductivity µ0</td>
<td>&gt;60000</td>
<td>&gt;60000</td>
</tr>
<tr>
<td>Maximum magnetic permeability µ max</td>
<td>1000000</td>
<td>1000000</td>
</tr>
<tr>
<td>Curie temperature (℃)</td>
<td>255</td>
<td>485</td>
</tr>
<tr>
<td>Resistivity (<em>μ</em>ΩNaN)</td>
<td>120</td>
<td>120</td>
</tr>
<tr>
<td>Continuous working temperature (℃)</td>
<td>-40-90</td>
<td>-40-90</td>
</tr>
<tr>
<td>magnetostriction λs</td>
<td>0</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>Part No.</strong></th>
<th><strong>Width(mm)</strong></th>
<th><strong>Thickness (μm)</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>JCACO020232</td>
<td>2</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO030232</td>
<td>3</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO032232</td>
<td>3.2</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO045232</td>
<td>4.5</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO050232</td>
<td>5</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO060232</td>
<td>6</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO065232</td>
<td>6.5</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO080232</td>
<td>8</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO100232</td>
<td>10</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO150232</td>
<td>15</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO200232</td>
<td>20</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO250232</td>
<td>25</td>
<td>18-25</td>
</tr>
<tr>
<td>JCACO300232</td>
<td>30</td>
<td>18-25</td>
</tr>
</tbody>
</table>
</div>
<p>但是这里的数据给的比较笼统不方便对软磁材料进行建模，找到一篇论文：</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0304885320322952?via%3Dihub">Soft magnetic cobalt based amorphous alloys with low saturation induction</a></p>
</blockquote>
<p>上面给出了一些钴基非晶材料的一些较为详细的参数，如下表所示：</p>
<p><strong>Magnetic properties of the amorphous alloys Co–Fe–Si–B after various thermal treatments</strong></p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left">Alloy</th>
<th style="text-align:left">Composition, at. %</th>
<th><em>Bm</em>, T at magnetic field 200 A/m</th>
<th style="text-align:left"><em>μi</em></th>
<th style="text-align:left"><em>μmax</em></th>
<th><em>Hμmax</em>, A/m</th>
<th><em>HC</em>, A/m (magnetic induction 0.2 T)</th>
<th style="text-align:left"><em>TC</em>, K</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">#1</td>
<td style="text-align:left">Co66Fe4Mo0.5Ni0.5Si15.5B13.5</td>
<td>0.55</td>
<td style="text-align:left">50,000</td>
<td style="text-align:left">195,000</td>
<td>1.4</td>
<td>0.3</td>
<td style="text-align:left">491</td>
</tr>
<tr>
<td style="text-align:left">#2</td>
<td style="text-align:left">Co66.5Fe4Mo1.5B12Si16</td>
<td>0.51</td>
<td style="text-align:left">75,650</td>
<td style="text-align:left">228,500</td>
<td>0.977</td>
<td>0.33</td>
<td style="text-align:left">413</td>
</tr>
<tr>
<td style="text-align:left">#3</td>
<td style="text-align:left">Co68Fe3.2Cr2.8B9Si17</td>
<td>0.5</td>
<td style="text-align:left">108,100</td>
<td style="text-align:left">180,000</td>
<td>1.1</td>
<td>0.15</td>
<td style="text-align:left">393</td>
</tr>
<tr>
<td style="text-align:left"><strong>#4</strong></td>
<td style="text-align:left"><strong>Co67Fe3.2Cr2.8B10Si17</strong></td>
<td><strong>0.55</strong></td>
<td style="text-align:left"><strong>126,000</strong></td>
<td style="text-align:left"><strong>260,000</strong></td>
<td><strong>0.9</strong></td>
<td><strong>0.11</strong></td>
<td style="text-align:left"><strong>388</strong></td>
</tr>
<tr>
<td style="text-align:left">#5</td>
<td style="text-align:left">Co65,5Fe3.5Cr3B10Si18</td>
<td>0.42</td>
<td style="text-align:left">230,000</td>
<td style="text-align:left">450,000</td>
<td>0.41</td>
<td>0.159</td>
<td style="text-align:left">364</td>
</tr>
<tr>
<td style="text-align:left">#6</td>
<td style="text-align:left">Co65Fe3.2Cr2.8B10Si19</td>
<td>0.35</td>
<td style="text-align:left">165,000</td>
<td style="text-align:left">425,000</td>
<td>0.49</td>
<td>0.122</td>
<td style="text-align:left">321</td>
</tr>
<tr>
<td style="text-align:left">#7</td>
<td style="text-align:left">Co65Fe3.8Cr2.2B11.5Si17.5</td>
<td>0.5</td>
<td style="text-align:left">65,000</td>
<td style="text-align:left">145,000</td>
<td>1.2</td>
<td></td>
<td style="text-align:left">393</td>
</tr>
<tr>
<td style="text-align:left">#8</td>
<td style="text-align:left">Co66Fe3.8Cr1.2B12Si17</td>
<td>0.5</td>
<td style="text-align:left">100,000</td>
<td style="text-align:left">170,000</td>
<td>0.9</td>
<td>0.2</td>
<td style="text-align:left">449</td>
</tr>
<tr>
<td style="text-align:left">#9</td>
<td style="text-align:left">Co65Fe4Cr1Mo1B11.8Si17.2</td>
<td>0.45</td>
<td style="text-align:left">60,000</td>
<td style="text-align:left">140,000</td>
<td>1.05</td>
<td></td>
<td style="text-align:left">399</td>
</tr>
<tr>
<td style="text-align:left">#10</td>
<td style="text-align:left">Co66.7Fe3.1Cr3.2B12Si15</td>
<td>0.44</td>
<td style="text-align:left">135,000</td>
<td style="text-align:left">300,000</td>
<td>0.55</td>
<td>0.14</td>
<td style="text-align:left">440</td>
</tr>
<tr>
<td style="text-align:left">#11</td>
<td style="text-align:left">Co67Fe3Cr3B11,5Si15.5</td>
<td>0.43</td>
<td style="text-align:left">140,000</td>
<td style="text-align:left">320,000</td>
<td>0.5</td>
<td>0.13</td>
<td style="text-align:left">443</td>
</tr>
<tr>
<td style="text-align:left">A</td>
<td style="text-align:left">Co67Fe3Cr3B12Si15</td>
<td>0.45</td>
<td style="text-align:left">150,000</td>
<td style="text-align:left">350,000</td>
<td>0.5</td>
<td>0.11</td>
<td style="text-align:left">458</td>
</tr>
<tr>
<td style="text-align:left">B</td>
<td style="text-align:left">Co66Fe3Cr6B15Si10</td>
<td>0.38</td>
<td style="text-align:left">125,000</td>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">Co66Fe3Cr9B14Si8</td>
<td>0.38</td>
<td style="text-align:left">55,000</td>
<td style="text-align:left"></td>
<td></td>
<td></td>
<td style="text-align:left"></td>
</tr>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">Permaloy 81HMA Thickness 50 μm <a target="_blank" rel="noopener" href="https://www.sciencedirect.com/science/article/pii/S0304885320322952?via%3Dihub#b0295">[59]</a></td>
<td>0.5</td>
<td style="text-align:left">60,000</td>
<td style="text-align:left">140,000</td>
<td>1.6</td>
<td>≥0.4</td>
</tr>
</tbody>
</table>
</div>
<p>对比两个表格，发现国产磁牌号CACO-01最相近的为#4，因为磁导率与温度相关，还与磁场的频率，幅值等相关，所以需要具体的一些数据曲线，进行建模分析。      </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/%E9%92%B4%E5%9F%BA%E9%9D%9E%E6%99%B6%E7%A3%81%E9%80%9A%E9%97%A8%E4%BB%BF%E7%9C%9F/" data-id="cl8x6hjq6000aw0ocaptobe6g" data-title="" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Vivado_FIR使用记录" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/Vivado_FIR%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.667Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/Vivado_FIR%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/">Vivado FIR Compiler 7.2使用记录</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Vivado-FIR-Compiler-7-2使用记录"><a href="#Vivado-FIR-Compiler-7-2使用记录" class="headerlink" title="Vivado FIR Compiler 7.2使用记录"></a>Vivado FIR Compiler 7.2使用记录</h1><p>参考连接</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1801170">matlab与FPGA数字滤波器设计（1）——通过matlab的fdatool工具箱设计FIR数字滤波器 - 云+社区 - 腾讯云 (tencent.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1801172">matlab与FPGA数字滤波器设计（2）——Vivado调用IP核设计FIR滤波器 - 云+社区 - 腾讯云 (tencent.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1801173">matlab与FPGA数字滤波器设计（3）—— Matlab 与 Vivado 联合仿真 FIR 滤波器 - 云+社区 - 腾讯云 (tencent.com)</a></li>
</ul>
<p>分为两步，生成滤波器系数和设置FIR Compiler 7.2例化IP。</p>
<h2 id="MATLAB-FDAtool"><a href="#MATLAB-FDAtool" class="headerlink" title="MATLAB-FDAtool"></a>MATLAB-FDAtool</h2><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204172214385.png" alt="image-20220417221426263"></p>
<p>这个工具是matlab常用的工具，不同版本名字不一样，Filter Designer或FDATOOL或者滤波器设计工具，一般可以在matlab的APP中可以找到。先左下角的几个图标，一般默认是最下面那个，滤波器设计，用的最多的也是这个。这里需要注意的几个点如下</p>
<ul>
<li><p>阶数其实就是点数，FIR阶数与点数相差1，阶数等于点数减1；一般来说阶数越高效果越好，但延时高，要与采样频率相匹配，采样速率高，多几个点也没有什么关系。</p>
</li>
<li><p>数字滤波器与模拟滤波器有非常大的区别，模拟滤波器非常灵活，但数字滤波器基本上都是根据采样频率归一化后的若干个，可以直接查表选择所需要的类型。根据数字信号处理教材里有非常多种设计方法，最简单的即为窗方法，最直观。因为这里不需要深究滤波器性能，重点在于使用。根据查找对比，Blackman窗是旁瓣抑制较好，经典，就是主瓣太宽，不过因为采样频率足够高，可以通过增加阶数的方式得到较好的效果。Blackman窗旁瓣抑制为-57dB，主瓣宽度为12pi/N，在设置截止频率时不应超出这个宽度，只能通过调整采样率或者阶数实现，或者换一种窗结构。</p>
</li>
<li><p>IIR与FIR的区别在于，IIR的相位响应是非线性的，一般需要加带通滤波器进行相位矫正，两者加起来的资源消耗与FIR相当甚至更多。所以一般数字滤波器都采用FIR滤波器，其相位响应为线性。</p>
</li>
<li><p>数字滤波器与模拟滤波器不同在于，数字系统每个计算时刻，都认为系统是稳态的，这是数字信号处理的一个基础。</p>
</li>
<li><p>工具默认是采用双精度浮点系数，但浮点运算在任何平台都是非常麻烦的一件事情，资源消耗特别大，适合在通用PC保证计算精度，在底层逻辑计算平台上要尽量避免浮点运算，需要转换为定点型系数。学术版matlab没有定点运算权限，正版软件受害者实锤。设置定点型滤波器在左下角第三图标，如下图所示，参考别人的经验，一般采用采用16位量化会比较好，在VIVADO设置IP时也会提及量化，VIVADO对定点型支持较好。</p>
<p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204172245289.png" alt="image-20220417224521232"></p>
</li>
<li><p>在没有权限，正版软件受害的情况下，可在matlab里面将里面的双精度系数乘以$2^{16}-1$再取整。另外，定点化会极大影响系数精度，从而影响滤波器性能，在设计过程中，可以看见对比情况，一般还是避免正版受害的情况，在工具箱中调整设计一个较好的系数。</p>
</li>
<li><p>最后导出是在<strong>目标</strong>，有Xilinx字样，coe是Xilinx专用系统格式。</p>
</li>
<li><p>这里最佳精度小数长度刚好是0，如果依然有小数，应该再这里设置将小数位数置零，小数很麻烦。一般定点化都会是整数。</p>
</li>
</ul>
<h2 id="FIR-Compiler-7-2"><a href="#FIR-Compiler-7-2" class="headerlink" title="FIR Compiler 7.2"></a>FIR Compiler 7.2</h2><p>这个应该是非常常用的一个IP了，数字信号处理大部分时候都要滤波，还有另外一个非常重要的则是DDS，VIVADO提供的DDS还有FIR核都是采用AXI4-STEAM协议，搞得很麻烦。搞得还要去学习一下协议，但是这个是在构建复杂系统才用到，这里其实没有什么用，一般情况下<strong>s_axis_data_tvalid</strong>都是置1拉高，输入信号也就三个，一个数据输入，一个时钟，一个数据有效使能。三个输出，一个数据输出，一个数据有效使能输出，一个已准备输出。两个使能信号可不管。</p>
<p>寻找IP在旁边的Flow Navigator里面的 IP Catalog里面。找到对应的FIR compiler。左边框为IP设置状态，右面为设置窗口，主要说明设置窗口。共六个标签页，逐个说明一下。</p>
<h3 id="Filter-Option"><a href="#Filter-Option" class="headerlink" title="Filter Option"></a>Filter Option</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181055603.png" alt="image-20220418105537533"></p>
<p>滤波器系数那里选择源为COE文件，就从matlab里面导出的文件，这个文件最好放在vivado的工程目录下，名字和路径都不应该有中文和空格，vivado作为一个专业软件，其兼容性较差，对中文基本没有支持，空格也很容易出错，一般用下划线或者骆驼峰命名法。选择完用哪个小文件夹按钮浏览找到放置的COE文件即可从，下面的几个基本上不用动，系数用一组，也不重载，资源大把，不够就再买一块。</p>
<p>下面的Filter Specification 滤波器类型选最典型的单速率模式，即输出频率与输出的频率一致，剩下的也不用动，也动不了。</p>
<h3 id="Channel-Specification"><a href="#Channel-Specification" class="headerlink" title="Channel Specification"></a>Channel Specification</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181102103.png" alt="image-20220418110245037"></p>
<p>通道选一个，通道顺序选基本顺序，因为就一个，所以没有什么需要调整的，并行路径选一个，资源大把，不要考虑这些问题，下面的过采样设置，因为主体时钟是50MHz，数据采样率为2.5MHz，也可以都选2.5MHz，但这里选用了主时钟，进行了过采样，会多消耗一些资源，响应稍微快一点。</p>
<h3 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181118768.png" alt="image-20220418111817693"></p>
<p>系数选项要与matlab里面的设置一致，有符号系数，这里也提到了量化，并且是整数量化，并且不能更改，可能是因为已经导入了系数，但整数量化对FPGA要友好很多，所以一般量化还是需要整数量化，另外量化的位宽是可以调整的，但为了保证精度还是与matlab里面一致，16位位宽。系数选项最后一栏为系数结构，这里选择inferred，让软件自己推断。</p>
<p>最后数据路径选项比较重要，这里我们输入数据为为有符号的12位数据，但是为了与AXI4-stream协议统一，扩展到16位，后面四位补零，将信号扩大16倍，没有小数位。在输出的位宽是36位，全精度位宽太大，考虑到后续的模组开销，并不需要这么高的精度，统一为16位精度输出，取整方式为直接在最底位截断，不输出小数位。</p>
<h3 id="Detailed-Implementation"><a href="#Detailed-Implementation" class="headerlink" title="Detailed Implementation"></a>Detailed Implementation</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181605756.png" alt="image-20220418160547679"></p>
<p>主要是优化目标，我们这里需要的是速度，最后的DSP切片栏，可以适当选多一点。</p>
<h3 id="Interface"><a href="#Interface" class="headerlink" title="Interface"></a>Interface</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181611174.png" alt="image-20220418161138112"></p>
<p>这里主要要启用复位信号。</p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p><img src="https://joyobama.oss-cn-guangzhou.aliyuncs.com/img/202204181612401.png" alt="image-20220418161224335"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/Vivado_FIR%E4%BD%BF%E7%94%A8%E8%AE%B0%E5%BD%95/" data-id="cl8x6hjq30004w0ocho0obfdq" data-title="Vivado FIR Compiler 7.2使用记录" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Verilog有符号数与无符号数的一些要点" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/Verilog%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E4%B8%8E%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E8%A6%81%E7%82%B9/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.665Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/Verilog%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E4%B8%8E%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E8%A6%81%E7%82%B9/">Verilog 有符号数与无符号数的一些注意点</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="有符号数（负数）与无符号数"><a href="#有符号数（负数）与无符号数" class="headerlink" title="有符号数（负数）与无符号数"></a>有符号数（负数）与无符号数</h1><p>参考连接</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/dadaozhijian22/p/8778636.html">关于verilog的有符号数与无符号数的转换 - Carzy_Learner - 博客园 (cnblogs.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/sz_woshishazi/article/details/108773295">数字IC秋招面试专题（二）verilog的signed和unsigned<em>王</em>嘻嘻的博客-CSDN博客</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/Times_poem/article/details/84997976?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.pc_relevant_default&amp;spm=1001.2101.3001.4242.1&amp;utm_relevant_index=3">Verilog十大基本功5 (关于verilog中的signed类型)_Times_poem的博客-CSDN博客</a></li>
</ul>
<p>因为做数字信号处理的时候发现AD输入数据，DA输出数据都是无符号整数，但是其中有需要进行乘法、开方、滤波等一系列操作。AD与DA的无符号数据都是因为将将信号进行了偏置，当进行乘法计算时会有：</p>
<script type="math/tex; mode=display">
S_1 = A\sin(\omega_1 t + \phi_1)\\
S_2 = B\sin(\omega_2 t + \phi_2)\\
S_1S_2 = AB\sin(\omega_1 t + \phi_1)\sin(\omega_2 t + \phi_2)\\
S^*_1 = \frac{A}{2}+A\sin(\omega_1 t + \phi_1)\\
S^*_2 = \frac{B}{2}+B\sin(\omega_2 t + \phi_2)\\
S^*_1S^*_2=\frac{S_1S_2}{2}+\frac{AB}{2}(\sin(\omega_1 t + \phi_1)+\sin(\omega_2 t + \phi_2)+\frac{1}{2})</script><p>所以在进行相关性解调，求幅值的操作中，无符号这种偏置操作会影响计算的精度与效率，信噪比明显下降。</p>
<p>故将将无符号数转换为有符号数是十分有必要的。</p>
<h2 id="无符号数转有符号数"><a href="#无符号数转有符号数" class="headerlink" title="无符号数转有符号数"></a>无符号数转有符号数</h2><p>在Verilog中提供了两个系统函数进行两者的转换，分别是将无符号数转为有符号数的$$signed$和将有符号数转为无符号数的$$unsigned$，相关示例如下：</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>] regA, regB;</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">7</span>:<span class="number">0</span>] regS;</span><br><span class="line">regA = <span class="built_in">$unsigned</span>(-<span class="number">4</span>); <span class="comment">// regA = 8&#x27;b11111100</span></span><br><span class="line">regB = <span class="built_in">$unsigned</span>(-<span class="number">4</span>&#x27;sd4); <span class="comment">// regB = 8&#x27;b00001100</span></span><br><span class="line">regS = <span class="built_in">$signed</span> (<span class="number">4&#x27;b1100</span>); <span class="comment">// regS = -4</span></span><br></pre></td></tr></table></figure>
<p>从上面几个示例可以看出，在使用$signed函数时，有以下几个特点</p>
<ul>
<li>会自动将最高位作为符号位</li>
<li>不会增加或减少位数，故在处理1’b1时无法判断其为符号位或数字有效位，在处理需要注意</li>
<li>不会更改寄存器中的值，只是在综合时有意义</li>
<li>在赋值时，有符号数在进制带有s</li>
<li>有符号数都是以补码的形式存在的，所无符号数转过去并非是单纯的将最高做作为符号位，而是因为整数的补码与原码相同</li>
</ul>
<p>而在使用$unsigned函数时，同样不会更改内容，结合无符号与有符号计算的一些特性，该函数非常少使用。总的来说，值还是那些值，但是所代表的意义，以及在综合时的逻辑关系不一样了。Verilog一般默认都是采用无符号整数，有符号的都需要特别申明。</p>
<h2 id="有符号数与无符号数的运算规则"><a href="#有符号数与无符号数的运算规则" class="headerlink" title="有符号数与无符号数的运算规则"></a>有符号数与无符号数的运算规则</h2><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">the following are the rules for determining the resulting type of an expression</span></span><br><span class="line"><span class="comment">-----expression type depends only on the oprands .It does not depend on the left-hand(if any)</span></span><br><span class="line"><span class="comment">-----decimal numbers are signed </span></span><br><span class="line"><span class="comment">-----based_numbers are unsigned,except where the s notation is used in the based specifier</span></span><br><span class="line"><span class="comment">-----bit-select results are unsigned , regardless of the oprands</span></span><br><span class="line"><span class="comment">-----part-select results are unsigned ,regradless of oprands</span></span><br><span class="line"><span class="comment">-----part-select results are unsigned regardless of the oprands even if the part-select specifes the entire vector</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">reg</span> [<span class="number">15</span>:<span class="number">0</span>] a;</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">7</span>:<span class="number">0</span>] b;</span><br><span class="line"><span class="keyword">initial</span></span><br><span class="line">a = b[<span class="number">7</span>:<span class="number">0</span>]; <span class="comment">// b[7:0] is unsigned and therefore zero-extended</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">-----concatenate result are unsigned regtadless of the oprands</span></span><br><span class="line"><span class="comment">-----comparison results (1,0) are unsigned regradless of the oprands</span></span><br><span class="line"><span class="comment">-----reals converted to integers by type coercion are signed</span></span><br><span class="line"><span class="comment">-----the sign and size of any self-determined operand are determined by the operand itself and independent of the remainder of the expression </span></span><br><span class="line"><span class="comment">-----for nonself-determined operands the follwing rules apply</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">if any operand is real the result is real </span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">if any operand is unsigned the result is unsigned regardless of the operator(运算符) except when specified otherwise</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"> If a signed operand is to be resized to a larger signed width and the value of the sign bit is X, the resulting value shall be bit-filled with Xs. If the sign bit of the value is Z, then the resulting value shall be bit-filled with Zs. If any bit of a signed value is X or Z, then any nonlogical operation involving the value shall result in the entire resultant value being an X and the type consistent with the expression’s type.</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">If the width of the right-hand expression is larger than the width of the left-hand side in an assignment, the MSBs of the right-hand expression will always be discarded to match the size of the left-hand side. Implementations are not required to warn or report any errors related to assignment size mismatch or truncation. Truncating the sign bit of a signed expression may change the sign of the result.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">                                                                                                                                                                          </span><br><span class="line"><span class="comment">//For example:</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">5</span>:<span class="number">0</span>] a;</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">4</span>:<span class="number">0</span>] b;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">a = <span class="number">8&#x27;hff</span>; <span class="comment">// After the assignment, a = 6&#x27;h3f</span></span><br><span class="line">b = <span class="number">8&#x27;hff</span>; <span class="comment">// After the assignment, b = 5&#x27;h1f</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">//For example:</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">5</span>:<span class="number">0</span>] a;</span><br><span class="line"><span class="keyword">reg</span> <span class="keyword">signed</span> [<span class="number">4</span>:<span class="number">0</span>] b, c;</span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">a = <span class="number">8</span>&#x27;sh8f; <span class="comment">// After the assignment, a = 6&#x27;h0f</span></span><br><span class="line">b = <span class="number">8</span>&#x27;sh8f; <span class="comment">// After the assignment, b = 5&#x27;h0f</span></span><br><span class="line">c = -<span class="number">113</span>; <span class="comment">// After the assignment, c = 15</span></span><br></pre></td></tr></table></figure>
<ul>
<li>运算中存在无符号数时，一律按照无符号数运算，仅当所有运算数都为有符号数时，才会按照有符号数进行运算。</li>
<li>只要发生截位的情况，例如左边操作操作数位数小于右边操作数，一律按照无符号数操作。</li>
<li>当右值位数不等时进行运算，小位宽数会先扩位到大位宽再参与运算；扩位按最高位进行扩，所以要<strong>尤其注意正负</strong>，所以最好保证都是相同位数，并考虑溢出情况。</li>
</ul>
<h2 id="AD-DA操作时的有无符号数的转换"><a href="#AD-DA操作时的有无符号数的转换" class="headerlink" title="AD/DA操作时的有无符号数的转换"></a>AD/DA操作时的有无符号数的转换</h2><p>因为AD或DA芯片一般都是只能采样或者输出正电压，AD采集以及DA输出时的数据都是无符号数，但在计算时需要有符号数，故在进行输入输出时需要将其进行转换。有网友提出了一种便捷的方式将两者进行转换，主要体现在最高位上。无符号数是加了$2^{N-1}$偏置，需要减去这一偏置，而这一操作恰好只改变最高，相当于将最高位取反，故只需要将最高位取反即可。</p>
<p>在有负电压信号的系统中，无论是有符号数还是无符号数，AD采样负电压信号的值都是以补码的信号存在的，在有些系统中有向量合成取模的操作，涉及平方和开方，只有幅值没有方向，当确定为负电压值时还需要进行取补码的操作，将其转换为有符号数，再将最高位整理成无符号数或者有符号数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/Verilog%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0%E4%B8%8E%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E8%A6%81%E7%82%B9/" data-id="cl8x6hjq30003w0oc4ijh67wa" data-title="Verilog 有符号数与无符号数的一些注意点" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-SIFT" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/SIFT/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T13:00:15.663Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/SIFT/" data-id="cl8x6hjps0000w0oc8lhs96g6" data-title="" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/10/06/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-10-06T12:29:27.168Z" itemprop="datePublished">2022-10-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/10/06/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://joyobama.github.io/2022/10/06/hello-world/" data-id="cl8x6hjq40005w0ocgxan7u95" data-title="Hello World" class="article-share-link">Teilen</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/10/06/AD%E7%AE%80%E6%98%93%E6%95%99%E7%A8%8B/">AD简易教程</a>
          </li>
        
          <li>
            <a href="/2022/10/06/2022%E5%B9%B44%E6%9C%88FPGA%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%BA%9B%E9%94%99%E8%AF%AF%E8%A6%81%E7%82%B9/">要点总结</a>
          </li>
        
          <li>
            <a href="/2022/10/06/2021%E5%B9%B4%E8%AE%B0%E8%B4%A6/">(no title)</a>
          </li>
        
          <li>
            <a href="/2022/10/06/%E4%BF%A1%E5%8F%B7%E5%A4%84%E7%90%86%E6%9D%BF%E8%A7%84%E5%88%92/">信号处理板计划</a>
          </li>
        
          <li>
            <a href="/2022/10/06/%E6%96%B0%E8%83%BD%E6%BA%90%E6%B1%BD%E8%BD%A6%E7%94%B5%E6%B1%A0%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/">新能源汽车电池数据清洗</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 Joy_Obama<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</body>
</html>